{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,cAAc,OAAO,WAAP,IACb,OAAO,iBADM,IAEb,OAAO,aAFM,IAGb,OAAO,cAHZ;;AAKA;;;;AAIA,IAAI,gBAAiB,YAAW;AAC9B,MAAI;AACF,QAAI,IAAI,IAAI,IAAJ,CAAS,CAAC,IAAD,CAAT,CAAR;AACA,WAAO,EAAE,IAAF,KAAW,CAAlB;AACD,GAHD,CAGE,OAAM,CAAN,EAAS;AACT,WAAO,KAAP;AACD;AACF,CAPmB,EAApB;;AASA;;;;;AAKA,IAAI,8BAA8B,iBAAkB,YAAW;AAC7D,MAAI;AACF,QAAI,IAAI,IAAI,IAAJ,CAAS,CAAC,IAAI,UAAJ,CAAe,CAAC,CAAD,EAAG,CAAH,CAAf,CAAD,CAAT,CAAR;AACA,WAAO,EAAE,IAAF,KAAW,CAAlB;AACD,GAHD,CAGE,OAAM,CAAN,EAAS;AACT,WAAO,KAAP;AACD;AACF,CAPkD,EAAnD;;AASA;;;;AAIA,IAAI,uBAAuB,eACtB,YAAY,SAAZ,CAAsB,MADA,IAEtB,YAAY,SAAZ,CAAsB,OAF3B;;AAIA;;;;;;AAMA,SAAS,mBAAT,CAA6B,GAA7B,EAAkC;AAChC,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,MAAxB,EAAgC,GAAhC,EAAqC;AACnC,QAAI,QAAQ,IAAI,CAAJ,CAAZ;AACA,QAAI,MAAM,MAAN,YAAwB,WAA5B,EAAyC;AACvC,UAAI,MAAM,MAAM,MAAhB;;AAEA;AACA;AACA,UAAI,MAAM,UAAN,KAAqB,IAAI,UAA7B,EAAyC;AACvC,YAAI,OAAO,IAAI,UAAJ,CAAe,MAAM,UAArB,CAAX;AACA,aAAK,GAAL,CAAS,IAAI,UAAJ,CAAe,GAAf,EAAoB,MAAM,UAA1B,EAAsC,MAAM,UAA5C,CAAT;AACA,cAAM,KAAK,MAAX;AACD;;AAED,UAAI,CAAJ,IAAS,GAAT;AACD;AACF;AACF;;AAED,SAAS,sBAAT,CAAgC,GAAhC,EAAqC,OAArC,EAA8C;AAC5C,YAAU,WAAW,EAArB;;AAEA,MAAI,KAAK,IAAI,WAAJ,EAAT;AACA,sBAAoB,GAApB;;AAEA,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,MAAxB,EAAgC,GAAhC,EAAqC;AACnC,OAAG,MAAH,CAAU,IAAI,CAAJ,CAAV;AACD;;AAED,SAAQ,QAAQ,IAAT,GAAiB,GAAG,OAAH,CAAW,QAAQ,IAAnB,CAAjB,GAA4C,GAAG,OAAH,EAAnD;AACD;;AAED,SAAS,eAAT,CAAyB,GAAzB,EAA8B,OAA9B,EAAuC;AACrC,sBAAoB,GAApB;AACA,SAAO,IAAI,IAAJ,CAAS,GAAT,EAAc,WAAW,EAAzB,CAAP;AACD;;AAED,OAAO,OAAP,GAAkB,YAAW;AAC3B,MAAI,aAAJ,EAAmB;AACjB,WAAO,8BAA8B,OAAO,IAArC,GAA4C,eAAnD;AACD,GAFD,MAEO,IAAI,oBAAJ,EAA0B;AAC/B,WAAO,sBAAP;AACD,GAFM,MAEA;AACL,WAAO,SAAP;AACD;AACF,CARgB,EAAjB","file":"index-compiled.js","sourcesContent":["/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n"]}