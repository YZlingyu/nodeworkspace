{"version":3,"sources":["promise.domain.test.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,KAAR,CAAd;AAAA,IACI,SAAS,QAAQ,QAAR,EAAkB,MAD/B;AAAA,IAEI,SAAS,QAAQ,QAAR,CAFb;;AAKA,SAAS,SAAT,EAAoB,YAAY;AAC9B,KAAG,qDAAH,EAA0D,UAAU,IAAV,EAAgB;AACxE,QAAI,QAAQ,OAAR,CAAgB,OAAhB,CAAwB,OAAxB,KAAoC,CAAxC,EAA2C,OAAO,MAAP;AAC3C,QAAI,IAAI,IAAI,MAAJ,EAAR;AACA,MAAE,EAAF,CAAK,OAAL,EAAc,UAAU,GAAV,EAAe;AAC3B,aAAO,KAAP,CAAa,IAAI,OAAjB,EAA0B,MAA1B;AACA;AACD,KAHD;;AAKA,QAAI,IAAI,IAAI,OAAJ,EAAR;AACA,MAAE,GAAF,CAAM,YAAY;AAChB,QAAE,IAAF,CACE,YAAY,CAAE,CADhB,EAEE,IAFF,CAGE,YAAY;AAAE,cAAM,IAAI,KAAJ,CAAU,MAAV,CAAN;AAA0B,OAH1C,EAIE,GAJF;AAKD,KAND;;AAQA,YAAQ,QAAR,CAAiB,YAAY;AAC3B,QAAE,OAAF;AACD,KAFD;AAGD,GApBD;AAqBD,CAtBD","file":"promise.domain.test-compiled.js","sourcesContent":["var Promise = require('../')\n  , Domain = require('domain').Domain\n  , assert = require('assert');\n\n\ndescribe(\"domains\", function () {\n  it(\"exceptions should not breakout of domain boundaries\", function (done) {\n    if (process.version.indexOf('v0.10') != 0) return done();\n    var d = new Domain;\n    d.on('error', function (err) {\n      assert.equal(err.message, 'gaga');\n      done()\n    });\n\n    var p = new Promise();\n    d.run(function () {\n      p.then(\n        function () {}\n      ).then(\n        function () { throw new Error('gaga'); }\n      ).end();\n    });\n\n    process.nextTick(function () {\n      p.fulfill();\n    });\n  });\n});\n"]}