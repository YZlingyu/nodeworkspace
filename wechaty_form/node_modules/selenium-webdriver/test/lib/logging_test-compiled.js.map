{"version":3,"sources":["logging_test.js"],"names":[],"mappings":"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","file":"logging_test-compiled.js","sourcesContent":["// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n'use strict';\n\nconst assert = require('assert');\nconst sinon = require('sinon');\nconst logging = require('../../lib/logging');\n\ndescribe('logging', function() {\n  let mgr, root, clock;\n\n  beforeEach(function setUp() {\n    mgr = new logging.LogManager;\n    root = mgr.getLogger('');\n\n    clock = sinon.useFakeTimers();\n  });\n\n  afterEach(function tearDown() {\n    clock.restore();\n  });\n\n  describe('LogManager', function() {\n    describe('getLogger()', function() {\n      it('handles falsey input', function() {\n        assert.strictEqual(root, mgr.getLogger());\n        assert.strictEqual(root, mgr.getLogger(''));\n        assert.strictEqual(root, mgr.getLogger(null));\n        assert.strictEqual(root, mgr.getLogger(0));\n      });\n\n      it('creates parent loggers', function() {\n        let logger = mgr.getLogger('foo.bar.baz');\n        assert.strictEqual(logger.parent_, mgr.getLogger('foo.bar'));\n\n        logger = logger.parent_;\n        assert.strictEqual(logger.parent_, mgr.getLogger('foo'));\n\n        logger = logger.parent_;\n        assert.strictEqual(logger.parent_, mgr.getLogger(''));\n\n        assert.strictEqual(logger.parent_.parent_, null);\n      });\n    });\n  });\n\n  describe('Logger', function() {\n    describe('getEffectiveLevel()', function() {\n      it('defaults to OFF', function() {\n        assert.strictEqual(root.getLevel(), logging.Level.OFF);\n        assert.strictEqual(root.getEffectiveLevel(), logging.Level.OFF);\n\n        root.setLevel(null);\n        assert.strictEqual(root.getLevel(), null);\n        assert.strictEqual(root.getEffectiveLevel(), logging.Level.OFF);\n      });\n\n      it('uses own level if set', function() {\n        let logger = mgr.getLogger('foo.bar.baz');\n        assert.strictEqual(logger.getLevel(), null);\n        assert.strictEqual(logger.getEffectiveLevel(), logging.Level.OFF);\n\n        logger.setLevel(logging.Level.INFO);\n        assert.strictEqual(logger.getLevel(), logging.Level.INFO);\n        assert.strictEqual(logger.getEffectiveLevel(), logging.Level.INFO);\n      });\n\n      it('uses level from set on nearest parent', function() {\n        let ancestor = mgr.getLogger('foo');\n        ancestor.setLevel(logging.Level.SEVERE);\n\n        let logger = mgr.getLogger('foo.bar.baz');\n        assert.strictEqual(logger.getLevel(), null);\n        assert.strictEqual(logger.getEffectiveLevel(), logging.Level.SEVERE);\n      });\n    });\n\n    describe('isLoggable()', function() {\n      it('compares level against logger\\'s effective level', function() {\n        const log1 = mgr.getLogger('foo');\n        log1.setLevel(logging.Level.WARNING);\n\n        const log2 = mgr.getLogger('foo.bar.baz');\n\n        assert(!log2.isLoggable(logging.Level.FINEST));\n        assert(!log2.isLoggable(logging.Level.INFO));\n        assert(log2.isLoggable(logging.Level.WARNING));\n        assert(log2.isLoggable(logging.Level.SEVERE));\n\n        log2.setLevel(logging.Level.INFO);\n\n        assert(!log2.isLoggable(logging.Level.FINEST));\n        assert(log2.isLoggable(logging.Level.INFO));\n        assert(log2.isLoggable(logging.Level.WARNING));\n        assert(log2.isLoggable(logging.Level.SEVERE));\n\n        log2.setLevel(logging.Level.ALL);\n\n        assert(log2.isLoggable(logging.Level.FINEST));\n        assert(log2.isLoggable(logging.Level.INFO));\n        assert(log2.isLoggable(logging.Level.WARNING));\n        assert(log2.isLoggable(logging.Level.SEVERE));\n      });\n\n      it('Level.OFF is never loggable', function() {\n        function test(level) {\n          root.setLevel(level);\n          assert(!root.isLoggable(logging.Level.OFF),\n              'OFF should not be loggable at ' + level);\n        }\n\n        test(logging.Level.ALL);\n        test(logging.Level.INFO);\n        test(logging.Level.OFF);\n      });\n    });\n\n    describe('log()', function() {\n      it('does not invoke loggable if message is not loggable', function() {\n        const log = mgr.getLogger('foo');\n        log.setLevel(logging.Level.OFF);\n\n        let callback = sinon.spy();\n        log.addHandler(callback);\n        root.addHandler(callback);\n\n        assert(!callback.called);\n      });\n\n      it('invokes handlers for each parent logger', function() {\n        const cb1 = sinon.spy();\n        const cb2 = sinon.spy();\n        const cb3 = sinon.spy();\n        const cb4 = sinon.spy();\n\n        const log1 = mgr.getLogger('foo');\n        const log2 = mgr.getLogger('foo.bar');\n        const log3 = mgr.getLogger('foo.bar.baz');\n        const log4 = mgr.getLogger('foo.bar.baz.quot');\n\n        log1.addHandler(cb1);\n        log1.setLevel(logging.Level.INFO);\n\n        log2.addHandler(cb2);\n        log2.setLevel(logging.Level.WARNING);\n\n        log3.addHandler(cb3);\n        log3.setLevel(logging.Level.FINER);\n\n        clock.tick(123456);\n\n        log4.finest('this is the finest message');\n        log4.finer('this is a finer message');\n        log4.info('this is an info message');\n        log4.warning('this is a warning message');\n        log4.severe('this is a severe message');\n\n        assert.equal(4, cb1.callCount);\n        assert.equal(4, cb2.callCount);\n        assert.equal(4, cb3.callCount);\n\n        const entry1 = new logging.Entry(\n            logging.Level.FINER,\n            '[foo.bar.baz.quot] this is a finer message',\n            123456);\n        const entry2 = new logging.Entry(\n            logging.Level.INFO,\n            '[foo.bar.baz.quot] this is an info message',\n            123456);\n        const entry3 = new logging.Entry(\n            logging.Level.WARNING,\n            '[foo.bar.baz.quot] this is a warning message',\n            123456);\n        const entry4 = new logging.Entry(\n            logging.Level.SEVERE,\n            '[foo.bar.baz.quot] this is a severe message',\n            123456);\n\n        check(cb1.getCall(0).args[0], entry1);\n        check(cb1.getCall(1).args[0], entry2);\n        check(cb1.getCall(2).args[0], entry3);\n        check(cb1.getCall(3).args[0], entry4);\n\n        check(cb2.getCall(0).args[0], entry1);\n        check(cb2.getCall(1).args[0], entry2);\n        check(cb2.getCall(2).args[0], entry3);\n        check(cb2.getCall(3).args[0], entry4);\n\n        check(cb3.getCall(0).args[0], entry1);\n        check(cb3.getCall(1).args[0], entry2);\n        check(cb3.getCall(2).args[0], entry3);\n        check(cb3.getCall(3).args[0], entry4);\n\n        function check(entry, expected) {\n          assert.equal(entry.level, expected.level, 'wrong level');\n          assert.equal(entry.message, expected.message, 'wrong message');\n          assert.equal(entry.timestamp, expected.timestamp, 'wrong time');\n        }\n      });\n\n      it('does not invoke removed handler', function() {\n        root.setLevel(logging.Level.INFO);\n        const cb = sinon.spy();\n\n        root.addHandler(cb);\n        root.info('hi');\n        assert.equal(1, cb.callCount);\n\n        assert(root.removeHandler(cb));\n        root.info('bye');\n        assert.equal(1, cb.callCount);\n\n        assert(!root.removeHandler(cb));\n      });\n    });\n  });\n\n  describe('getLevel()', function() {\n    it('converts named levels', function() {\n      assert.strictEqual(logging.Level.DEBUG, logging.getLevel('DEBUG'));\n      assert.strictEqual(logging.Level.ALL, logging.getLevel('FAKE'));\n    });\n\n    it('converts numeric levels', function() {\n      assert.strictEqual(\n          logging.Level.DEBUG,\n          logging.getLevel(logging.Level.DEBUG.value));\n    });\n\n    it('normalizes numeric levels', function() {\n      assert.strictEqual(\n          logging.Level.OFF,\n          logging.getLevel(logging.Level.OFF.value * 2));\n\n      let diff = logging.Level.SEVERE.value - logging.Level.WARNING.value;\n      assert.strictEqual(\n          logging.Level.WARNING,\n          logging.getLevel(logging.Level.WARNING.value + (diff * .5)));\n\n      assert.strictEqual(logging.Level.ALL, logging.getLevel(0));\n      assert.strictEqual(logging.Level.ALL, logging.getLevel(-1));\n    });\n  });\n\n  describe('Preferences', function() {\n    it('can be converted to JSON', function() {\n      let prefs = new logging.Preferences;\n      assert.equal('{}', JSON.stringify(prefs));\n\n      prefs.setLevel('foo', logging.Level.DEBUG);\n      assert.equal('{\"foo\":\"DEBUG\"}', JSON.stringify(prefs));\n\n      prefs.setLevel(logging.Type.BROWSER, logging.Level.FINE);\n      assert.equal('{\"foo\":\"DEBUG\",\"browser\":\"FINE\"}', JSON.stringify(prefs));\n    });\n  });\n});\n"]}