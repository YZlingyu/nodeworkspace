{"version":3,"sources":["page_loading_test.js"],"names":[],"mappings":"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","file":"page_loading_test-compiled.js","sourcesContent":["// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n'use strict';\n\nvar Browser = require('..').Browser,\n    By = require('..').By,\n    until = require('..').until,\n    assert = require('../testing/assert'),\n    error = require('../lib/error'),\n    test = require('../lib/test'),\n    Pages = test.Pages;\n\n\ntest.suite(function(env) {\n  var browsers = env.browsers;\n\n  var driver;\n  test.before(function*() {\n    driver = yield env.builder().build();\n  });\n\n  test.beforeEach(function*() {\n    if (!driver) {\n      driver = yield env.builder().build();\n    }\n  });\n\n  test.after(function() {\n    if (driver) {\n      return driver.quit();\n    }\n  });\n\n  test.it('should wait for document to be loaded', function*() {\n    yield driver.get(Pages.simpleTestPage);\n    return assert(driver.getTitle()).equalTo('Hello WebDriver');\n  });\n\n  test.it('should follow redirects sent in the http response headers',\n      function*() {\n    yield driver.get(Pages.redirectPage);\n    return assert(driver.getTitle()).equalTo('We Arrive Here');\n  });\n\n  test.ignore(browsers(Browser.SAFARI)).\n  it('should follow meta redirects', function*() {\n    yield driver.get(Pages.metaRedirectPage);\n    return assert(driver.getTitle()).equalTo('We Arrive Here');\n  });\n\n  // Skip Firefox; see https://bugzilla.mozilla.org/show_bug.cgi?id=1280300\n  test.ignore(browsers(Browser.FIREFOX)).\n  it('should be able to get a fragment on the current page', function*() {\n    yield driver.get(Pages.xhtmlTestPage);\n    yield driver.get(Pages.xhtmlTestPage + '#text');\n    yield driver.findElement(By.id('id1'));\n  });\n\n  test.ignore(browsers(Browser.IPAD, Browser.IPHONE)).\n  it('should wait for all frames to load in a frameset', function*() {\n    yield driver.get(Pages.framesetPage);\n    yield driver.switchTo().frame(0);\n\n    let txt = yield driver.findElement(By.css('span#pageNumber')).getText();\n    assert(txt.trim()).equalTo('1');\n\n    yield driver.switchTo().defaultContent();\n    yield driver.switchTo().frame(1);\n    txt = yield driver.findElement(By.css('span#pageNumber')).getText();\n\n    assert(txt.trim()).equalTo('2');\n  });\n\n  test.ignore(browsers(Browser.SAFARI)).\n  it('should be able to navigate back in browser history', function*() {\n    yield driver.get(Pages.formPage);\n\n    yield driver.findElement(By.id('imageButton')).click();\n    yield driver.wait(until.titleIs('We Arrive Here'), 2500);\n\n    yield driver.navigate().back();\n    yield driver.wait(until.titleIs('We Leave From Here'), 2500);\n  });\n\n  test.ignore(browsers(Browser.SAFARI)).\n  it('should be able to navigate back in presence of iframes', function*() {\n    yield driver.get(Pages.xhtmlTestPage);\n\n    yield driver.findElement(By.name('sameWindow')).click();\n    yield driver.wait(until.titleIs('This page has iframes'), 2500);\n\n    yield driver.navigate().back();\n    yield driver.wait(until.titleIs('XHTML Test Page'), 2500);\n  });\n\n  test.ignore(browsers(Browser.SAFARI)).\n  it('should be able to navigate forwards in browser history', function*() {\n    yield driver.get(Pages.formPage);\n\n    yield driver.findElement(By.id('imageButton')).click();\n    yield driver.wait(until.titleIs('We Arrive Here'), 5000);\n\n    yield driver.navigate().back();\n    yield driver.wait(until.titleIs('We Leave From Here'), 5000);\n\n    yield driver.navigate().forward();\n    yield driver.wait(until.titleIs('We Arrive Here'), 5000);\n  });\n\n  // PhantomJS 2.0 does not properly reload pages on refresh.\n  test.ignore(browsers(Browser.PHANTOM_JS)).\n  it('should be able to refresh a page', function*() {\n    yield driver.get(Pages.xhtmlTestPage);\n\n    yield driver.navigate().refresh();\n\n    yield assert(driver.getTitle()).equalTo('XHTML Test Page');\n  });\n\n  test.it('should return title of page if set', function*() {\n    yield driver.get(Pages.xhtmlTestPage);\n    yield assert(driver.getTitle()).equalTo('XHTML Test Page');\n\n    yield driver.get(Pages.simpleTestPage);\n    yield assert(driver.getTitle()).equalTo('Hello WebDriver');\n  });\n\n  describe('timeouts', function() {\n    test.afterEach(function() {\n      let nullDriver = () => driver = null;\n      if (driver) {\n        return driver.quit().then(nullDriver, nullDriver);\n      }\n    });\n\n    // Only implemented in Firefox.\n    test.ignore(browsers(\n        Browser.CHROME,\n        Browser.IE,\n        Browser.IPAD,\n        Browser.IPHONE,\n        Browser.OPERA,\n        Browser.PHANTOM_JS)).\n    it('should timeout if page load timeout is set', function*() {\n      yield driver.manage().timeouts().pageLoadTimeout(1);\n      return driver.get(Pages.sleepingPage + '?time=3')\n          .then(function() {\n            throw Error('Should have timed out on page load');\n          }, function(e) {\n            if (!(e instanceof error.ScriptTimeoutError)\n                && !(e instanceof error.TimeoutError)) {\n              throw Error('Unexpected error response: ' + e);\n            }\n          });\n    });\n  });\n});\n"]}