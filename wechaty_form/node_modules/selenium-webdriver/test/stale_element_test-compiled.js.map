{"version":3,"sources":["stale_element_test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAI,OAAO,QAAQ,QAAR,EAAkB,IAA7B;;AAEA,IAAI,UAAU,QAAQ,IAAR,EAAc,OAA5B;AAAA,IACI,KAAK,QAAQ,IAAR,EAAc,EADvB;AAAA,IAEI,QAAQ,QAAQ,IAAR,EAAc,KAF1B;AAAA,IAGI,QAAQ,QAAQ,IAAR,EAAc,KAH1B;AAAA,IAII,SAAS,QAAQ,mBAAR,CAJb;AAAA,IAKI,OAAO,QAAQ,aAAR,CALX;AAAA,IAMI,QAAQ,KAAK,KANjB;;AASA,KAAK,KAAL,CAAW,UAAS,GAAT,EAAc;AACvB,MAAI,MAAJ;AACA,OAAK,MAAL,CAAY,aAAY;AAAE,aAAS,MAAM,IAAI,OAAJ,GAAc,KAAd,EAAf;AAAuC,GAAjE;AACA,OAAK,KAAL,CAAW,YAAW;AAAE,WAAO,OAAO,IAAP,EAAP;AAAuB,GAA/C;;AAEA;AACA,OAAK,MAAL,CAAY,IAAI,QAAJ,CAAa,QAAQ,MAArB,CAAZ,EACA,EADA,CAEI,0DACI,4BAHR,EAII,aAAY;AACV,UAAM,OAAO,GAAP,CAAW,MAAM,cAAjB,CAAN;;AAEA,QAAI,cAAc,MAAM,OAAO,WAAP,CAAmB,GAAG,EAAH,CAAM,SAAN,CAAnB,CAAxB;AACA,UAAM,OAAO,YAAY,UAAZ,EAAP,EAAiC,SAAjC,CAA2C,GAA3C,CAAN;;AAEA,UAAM,OAAO,WAAP,CAAmB,GAAG,EAAH,CAAM,QAAN,CAAnB,EAAoC,KAApC,EAAN;AACA,UAAM,OAAO,IAAP,CAAY,MAAM,WAAN,CAAkB,WAAlB,CAAZ,EAA4C,IAA5C,CAAN;AACD,GAZL;;AAcA,OAAK,EAAL,CAAQ,gDAAR,EAA0D,aAAY;AACpE,UAAM,OAAO,GAAP,CAAW,MAAM,qBAAjB,CAAN;;AAEA,QAAI,QAAQ,MAAM,OAAO,WAAP,CAAmB,GAAG,GAAH,CAAO,sBAAP,CAAnB,CAAlB;AACA,UAAM,OAAO,QAAP,GAAkB,KAAlB,CAAwB,KAAxB,CAAN;;AAEA,QAAI,KAAK,MAAM,OAAO,WAAP,CAAmB,GAAG,EAAH,CAAM,SAAN,CAAnB,CAAf;AACA,UAAM,OAAO,QAAP,GAAkB,cAAlB,EAAN;AACA,WAAO,GAAG,OAAH,GAAa,IAAb,CAAkB,IAAlB,EAAwB,UAAS,CAAT,EAAY;AACzC,aAAO,CAAP,EAAU,UAAV,CAAqB,MAAM,0BAA3B;AACD,KAFM,CAAP;AAGD,GAXD;AAYD,CAhCD","file":"stale_element_test-compiled.js","sourcesContent":["// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n'use strict';\n\nvar fail = require('assert').fail;\n\nvar Browser = require('..').Browser,\n    By = require('..').By,\n    error = require('..').error,\n    until = require('..').until,\n    assert = require('../testing/assert'),\n    test = require('../lib/test'),\n    Pages = test.Pages;\n\n\ntest.suite(function(env) {\n  var driver;\n  test.before(function*() { driver = yield env.builder().build(); });\n  test.after(function() { return driver.quit(); });\n\n  // Element never goes stale in Safari.\n  test.ignore(env.browsers(Browser.SAFARI)).\n  it(\n      'dynamically removing elements from the DOM trigger a ' +\n          'StaleElementReferenceError',\n      function*() {\n        yield driver.get(Pages.javascriptPage);\n\n        var toBeDeleted = yield driver.findElement(By.id('deleted'));\n        yield assert(toBeDeleted.getTagName()).isEqualTo('p');\n\n        yield driver.findElement(By.id('delete')).click();\n        yield driver.wait(until.stalenessOf(toBeDeleted), 5000);\n      });\n\n  test.it('an element found in a different frame is stale', function*() {\n    yield driver.get(Pages.missedJsReferencePage);\n\n    var frame = yield driver.findElement(By.css('iframe[name=\"inner\"]'));\n    yield driver.switchTo().frame(frame);\n\n    var el = yield driver.findElement(By.id('oneline'));\n    yield driver.switchTo().defaultContent();\n    return el.getText().then(fail, function(e) {\n      assert(e).instanceOf(error.StaleElementReferenceError);\n    });\n  });\n});\n"]}