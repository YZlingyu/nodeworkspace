{"version":3,"sources":["BufferList.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,SAAS,QAAQ,QAAR,EAAkB,MAA/B;AACA;AACA,IAAI,aAAa,QAAQ,cAAR,CAAjB;AACA;;AAEA,OAAO,OAAP,GAAiB,UAAjB;;AAEA,SAAS,UAAT,GAAsB;AACpB,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,MAAL,GAAc,CAAd;AACD;;AAED,WAAW,SAAX,CAAqB,IAArB,GAA4B,UAAU,CAAV,EAAa;AACvC,MAAI,QAAQ,EAAE,MAAM,CAAR,EAAW,MAAM,IAAjB,EAAZ;AACA,MAAI,KAAK,MAAL,GAAc,CAAlB,EAAqB,KAAK,IAAL,CAAU,IAAV,GAAiB,KAAjB,CAArB,KAAiD,KAAK,IAAL,GAAY,KAAZ;AACjD,OAAK,IAAL,GAAY,KAAZ;AACA,IAAE,KAAK,MAAP;AACD,CALD;;AAOA,WAAW,SAAX,CAAqB,OAArB,GAA+B,UAAU,CAAV,EAAa;AAC1C,MAAI,QAAQ,EAAE,MAAM,CAAR,EAAW,MAAM,KAAK,IAAtB,EAAZ;AACA,MAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB,KAAK,IAAL,GAAY,KAAZ;AACvB,OAAK,IAAL,GAAY,KAAZ;AACA,IAAE,KAAK,MAAP;AACD,CALD;;AAOA,WAAW,SAAX,CAAqB,KAArB,GAA6B,YAAY;AACvC,MAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB;AACvB,MAAI,MAAM,KAAK,IAAL,CAAU,IAApB;AACA,MAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB,KAAK,IAAL,GAAY,KAAK,IAAL,GAAY,IAAxB,CAAvB,KAAyD,KAAK,IAAL,GAAY,KAAK,IAAL,CAAU,IAAtB;AACzD,IAAE,KAAK,MAAP;AACA,SAAO,GAAP;AACD,CAND;;AAQA,WAAW,SAAX,CAAqB,KAArB,GAA6B,YAAY;AACvC,OAAK,IAAL,GAAY,KAAK,IAAL,GAAY,IAAxB;AACA,OAAK,MAAL,GAAc,CAAd;AACD,CAHD;;AAKA,WAAW,SAAX,CAAqB,IAArB,GAA4B,UAAU,CAAV,EAAa;AACvC,MAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB,OAAO,EAAP;AACvB,MAAI,IAAI,KAAK,IAAb;AACA,MAAI,MAAM,KAAK,EAAE,IAAjB;AACA,SAAO,IAAI,EAAE,IAAb,EAAmB;AACjB,WAAO,IAAI,EAAE,IAAb;AACD,UAAO,GAAP;AACF,CAPD;;AASA,WAAW,SAAX,CAAqB,MAArB,GAA8B,UAAU,CAAV,EAAa;AACzC,MAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB,OAAO,WAAW,KAAX,CAAiB,CAAjB,CAAP;AACvB,MAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB,OAAO,KAAK,IAAL,CAAU,IAAjB;AACvB,MAAI,MAAM,WAAW,WAAX,CAAuB,MAAM,CAA7B,CAAV;AACA,MAAI,IAAI,KAAK,IAAb;AACA,MAAI,IAAI,CAAR;AACA,SAAO,CAAP,EAAU;AACR,MAAE,IAAF,CAAO,IAAP,CAAY,GAAZ,EAAiB,CAAjB;AACA,SAAK,EAAE,IAAF,CAAO,MAAZ;AACA,QAAI,EAAE,IAAN;AACD;AACD,SAAO,GAAP;AACD,CAZD","file":"BufferList-compiled.js","sourcesContent":["'use strict';\n\nvar Buffer = require('buffer').Buffer;\n/*<replacement>*/\nvar bufferShim = require('buffer-shims');\n/*</replacement>*/\n\nmodule.exports = BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return bufferShim.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = bufferShim.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};"]}