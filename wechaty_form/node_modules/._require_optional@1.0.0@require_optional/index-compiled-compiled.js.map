{"version":3,"sources":["index-compiled.js"],"names":[],"mappings":"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","file":"index-compiled-compiled.js","sourcesContent":["var path = require('path'),\n    fs = require('fs'),\n    f = require('util').format,\n    resolveFrom = require('resolve-from'),\n    semver = require('semver');\n\nvar exists = fs.existsSync || path.existsSync;\n\nvar find_package_json = function (location) {\n  var found = false;\n\n  while (!found) {\n    if (exists(location + '/package.json')) {\n      found = location;\n    } else if (location !== '/') {\n      location = path.dirname(location);\n    } else {\n      return false;\n    }\n  }\n\n  return location;\n};\n\nvar require_optional = function (name, options) {\n  options = options || {};\n  options.strict = typeof options.strict == 'boolean' ? options.strict : true;\n\n  // Current location\n  var location = __dirname;\n  // Check if we have a parent\n  if (module.parent) {\n    location = module.parent.filename;\n  }\n\n  // Locate this module's package.json file\n  var location = find_package_json(location);\n  if (!location) {\n    throw new Error('package.json can not be located');\n  }\n\n  // Read the package.json file\n  var object = JSON.parse(fs.readFileSync(f('%s/package.json', location)));\n  // Is the name defined by interal file references\n  var parts = name.split(/\\//);\n\n  // Optional dependencies exist\n  if (!object.peerOptionalDependencies) {\n    throw new Error(f('no optional dependency [%s] defined in peerOptionalDependencies in package.json', parts[0]));\n  } else if (object.peerOptionalDependencies && !object.peerOptionalDependencies[parts[0]]) {\n    throw new Error(f('no optional dependency [%s] defined in peerOptionalDependencies in package.json', parts[0]));\n  }\n\n  // Unpack the expected version\n  var expectedVersions = object.peerOptionalDependencies[parts[0]];\n  // The resolved package\n  var moduleEntry = undefined;\n  // Module file\n  var moduleEntryFile = name;\n\n  try {\n    // Validate if it's possible to read the module\n    moduleEntry = require(moduleEntryFile);\n  } catch (err) {\n    // Attempt to resolve in top level package\n    try {\n      // Get the module entry file\n      moduleEntryFile = resolveFrom(process.cwd(), name);\n      if (moduleEntryFile == null) return undefined;\n      // Attempt to resolve the module\n      moduleEntry = require(moduleEntryFile);\n    } catch (err) {\n      if (err.code === 'MODULE_NOT_FOUND') return undefined;\n    }\n  }\n\n  // Resolve the location of the module's package.json file\n  var location = find_package_json(require.resolve(moduleEntryFile));\n  if (!location) {\n    throw new Error('package.json can not be located');\n  }\n\n  // Read the module file\n  var dependentOnModule = JSON.parse(fs.readFileSync(f('%s/package.json', location)));\n  // Get the version\n  var version = dependentOnModule.version;\n  // Validate if the found module satisfies the version id\n  if (semver.satisfies(version, expectedVersions) == false && options.strict) {\n    var error = new Error(f('optional dependency [%s] found but version [%s] did not satisfy constraint [%s]', parts[0], version, expectedVersions));\n    error.code = 'OPTIONAL_MODULE_NOT_FOUND';\n    throw error;\n  }\n\n  // Satifies the module requirement\n  return moduleEntry;\n};\n\nrequire_optional.exists = function (name) {\n  try {\n    var m = require_optional(name);\n    if (m === undefined) return false;\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nmodule.exports = require_optional;\n\n//# sourceMappingURL=index-compiled.js.map"]}