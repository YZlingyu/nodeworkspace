{"version":3,"sources":["scopes.js"],"names":[],"mappings":"AAAA,IAAI,IAAI,QAAQ,QAAR,CAAR;;AAEA,QAAQ,QAAR,GAAmB,UAAU,IAAV,EAAgB;AACjC,MAAI,gBAAgB,IAApB;AACA,IAAE,OAAF,CAAU,IAAV,EAAgB,IAAhB,CAAqB,YAAY;AAC/B,oBAAgB,IAAhB;AACD,GAFD,EAEG,IAFH,CAEQ,YAAY;AAClB,SAAK,EAAL,CAAQ,EAAE,SAAF,CAAY,aAAZ,CAAR,EAAoC,+CAApC;AACA,SAAK,IAAL;AACD,GALD;AAMD,CARD;;AAUA,QAAQ,QAAR,GAAmB,UAAU,IAAV,EAAgB;AACjC,MAAI,gBAAgB,IAApB;AACA,IAAE,MAAF,CAAS,IAAI,KAAJ,EAAT,EAAsB,IAAtB,CAA2B,YAAY;AACrC,oBAAgB,IAAhB;AACD,GAFD,EAEG,IAFH,CAEQ,YAAY;AAClB,SAAK,EAAL,CAAQ,EAAE,SAAF,CAAY,aAAZ,CAAR,EAAoC,+CAApC;AACA,SAAK,IAAL;AACD,GALD;AAMD,CARD;;AAUA,QAAQ,aAAR,GAAwB,UAAU,IAAV,EAAgB;AACtC,MAAI,gBAAgB,KAApB;AACA,MAAI,QAAQ,EAAZ;AACA,IAAE,OAAF,CAAU,IAAV,EAAgB,SAAhB,CAA0B,YAAY;AACpC,oBAAgB,KAAhB;AACD,GAFD,EAEG,KAFH,EAEU,IAFV,CAEe,YAAY;AACzB,SAAK,EAAL,CAAQ,kBAAkB,KAA1B,EAAiC,mDAAjC;AACA,SAAK,IAAL;AACD,GALD;AAMD,CATD;;AAWA,QAAQ,aAAR,GAAwB,UAAU,IAAV,EAAgB;AACtC,MAAI,gBAAgB,KAApB;AACA,MAAI,QAAQ,EAAZ;AACA,IAAE,MAAF,CAAS,IAAI,KAAJ,EAAT,EAAsB,SAAtB,CAAgC,YAAY;AAC1C,oBAAgB,KAAhB;AACD,GAFD,EAEG,KAFH,EAEU,IAFV,CAEe,YAAY;AACzB,SAAK,KAAL,CAAW,aAAX,EAA0B,KAA1B,EAAiC,kDAAjC;AACA,SAAK,IAAL;AACD,GALD;AAMD,CATD;;AAWA,QAAQ,qBAAR,GAAgC,UAAU,IAAV,EAAgB;AAC9C,MAAI,gBAAgB,KAApB;AACA,MAAI,QAAQ,EAAZ;AACA,IAAE,OAAF,CAAU,CAAC,CAAX,EAAc,SAAd,CAAwB,UAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAC5C,SAAK,KAAL,CAAW,CAAX,EAAc,CAAd;AACA,SAAK,KAAL,CAAW,CAAX,EAAc,CAAd;AACA,SAAK,KAAL,CAAW,CAAX,EAAc,CAAd;AACA,SAAK,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf;AACA,oBAAgB,KAAhB;AACD,GAND,EAMG,KANH,EAMU,CANV,EAMa,CANb,EAMgB,CANhB,EAMmB,IANnB,CAMwB,YAAY;AAClC,SAAK,EAAL,CAAQ,kBAAkB,KAA1B,EAAiC,mDAAjC;AACA,SAAK,IAAL;AACD,GATD;AAUD,CAbD","file":"scopes-compiled.js","sourcesContent":["var Q = require('../kew')\n\nexports.testThen = function (test) {\n  var detectedScope = null\n  Q.resolve(true).then(function () {\n    detectedScope = this\n  }).then(function () {\n    test.ok(Q.isPromise(detectedScope), 'then() should be called in context of promise')\n    test.done()\n  })\n}\n\nexports.testFail = function (test) {\n  var detectedScope = null\n  Q.reject(new Error()).fail(function () {\n    detectedScope = this\n  }).then(function () {\n    test.ok(Q.isPromise(detectedScope), 'fail() should be called in context of promise')\n    test.done()\n  })\n}\n\nexports.testThenBound = function (test) {\n  var detectedScope = scope\n  var scope = {}\n  Q.resolve(true).thenBound(function () {\n    detectedScope = scope\n  }, scope).then(function () {\n    test.ok(detectedScope === scope, 'thenScoped() should be called in context of scope')\n    test.done()\n  })\n}\n\nexports.testFailBound = function (test) {\n  var detectedScope = scope\n  var scope = {}\n  Q.reject(new Error()).failBound(function () {\n    detectedScope = scope\n  }, scope).then(function () {\n    test.equal(detectedScope, scope, 'failBound() should be called in context of scope')\n    test.done()\n  })\n}\n\nexports.testThenBoundWithArgs = function (test) {\n  var detectedScope = scope\n  var scope = {}\n  Q.resolve(-1).thenBound(function (a, b, c, d) {\n    test.equal(a, 1)\n    test.equal(b, 2)\n    test.equal(c, 3)\n    test.equal(d, -1)\n    detectedScope = scope\n  }, scope, 1, 2, 3).then(function () {\n    test.ok(detectedScope === scope, 'failScoped() should be called in context of scope')\n    test.done()\n  })\n}\n\n"]}