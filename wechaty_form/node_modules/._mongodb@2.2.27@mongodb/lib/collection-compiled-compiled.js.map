{"version":3,"sources":["collection-compiled.js"],"names":[],"mappings":"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","file":"collection-compiled-compiled.js","sourcesContent":["\"use strict\";var checkCollectionName=require('./utils').checkCollectionName,ObjectID=require('mongodb-core').BSON.ObjectID,Long=require('mongodb-core').BSON.Long,Code=require('mongodb-core').BSON.Code,f=require('util').format,AggregationCursor=require('./aggregation_cursor'),MongoError=require('mongodb-core').MongoError,shallowClone=require('./utils').shallowClone,isObject=require('./utils').isObject,toError=require('./utils').toError,normalizeHintField=require('./utils').normalizeHintField,handleCallback=require('./utils').handleCallback,decorateCommand=require('./utils').decorateCommand,formattedOrderClause=require('./utils').formattedOrderClause,ReadPreference=require('./read_preference'),CoreReadPreference=require('mongodb-core').ReadPreference,CommandCursor=require('./command_cursor'),Define=require('./metadata'),Cursor=require('./cursor'),unordered=require('./bulk/unordered'),ordered=require('./bulk/ordered'),assign=require('./utils').assign,mergeOptions=require('./utils').mergeOptions;/**\n * @fileOverview The **Collection** class is an internal class that embodies a MongoDB collection\n * allowing for insert/update/remove/find and other command operation on that MongoDB collection.\n *\n * **COLLECTION Cannot directly be instantiated**\n * @example\n * var MongoClient = require('mongodb').MongoClient,\n *   test = require('assert');\n * // Connection url\n * var url = 'mongodb://localhost:27017/test';\n * // Connect using MongoClient\n * MongoClient.connect(url, function(err, db) {\n *   // Create a collection we want to drop later\n *   var col = db.collection('createIndexExample1');\n *   // Show that duplicate records got dropped\n *   col.find({}).toArray(function(err, items) {\n *     test.equal(null, err);\n *     test.equal(4, items.length);\n *     db.close();\n *   });\n * });\n */var mergeKeys=['readPreference','ignoreUndefined'];/**\n * Create a new Collection instance (INTERNAL TYPE, do not instantiate directly)\n * @class\n * @property {string} collectionName Get the collection name.\n * @property {string} namespace Get the full collection namespace.\n * @property {object} writeConcern The current write concern values.\n * @property {object} readConcern The current read concern values.\n * @property {object} hint Get current index hint for collection.\n * @return {Collection} a Collection instance.\n */var Collection=function(db,topology,dbName,name,pkFactory,options){checkCollectionName(name);// Unpack variables\nvar internalHint=null;var slaveOk=options==null||options.slaveOk==null?db.slaveOk:options.slaveOk;var serializeFunctions=options==null||options.serializeFunctions==null?db.s.options.serializeFunctions:options.serializeFunctions;var raw=options==null||options.raw==null?db.s.options.raw:options.raw;var promoteLongs=options==null||options.promoteLongs==null?db.s.options.promoteLongs:options.promoteLongs;var promoteValues=options==null||options.promoteValues==null?db.s.options.promoteValues:options.promoteValues;var promoteBuffers=options==null||options.promoteBuffers==null?db.s.options.promoteBuffers:options.promoteBuffers;var readPreference=null;var collectionHint=null;var namespace=f(\"%s.%s\",dbName,name);// Get the promiseLibrary\nvar promiseLibrary=options.promiseLibrary;// No promise library selected fall back\nif(!promiseLibrary){promiseLibrary=typeof global.Promise=='function'?global.Promise:require('es6-promise').Promise;}// Assign the right collection level readPreference\nif(options&&options.readPreference){readPreference=options.readPreference;}else if(db.options.readPreference){readPreference=db.options.readPreference;}// Set custom primary key factory if provided\npkFactory=pkFactory==null?ObjectID:pkFactory;// Internal state\nthis.s={// Set custom primary key factory if provided\npkFactory:pkFactory// Db\n,db:db// Topology\n,topology:topology// dbName\n,dbName:dbName// Options\n,options:options// Namespace\n,namespace:namespace// Read preference\n,readPreference:readPreference// SlaveOK\n,slaveOk:slaveOk// Serialize functions\n,serializeFunctions:serializeFunctions// Raw\n,raw:raw// promoteLongs\n,promoteLongs:promoteLongs// promoteValues\n,promoteValues:promoteValues// promoteBuffers\n,promoteBuffers:promoteBuffers// internalHint\n,internalHint:internalHint// collectionHint\n,collectionHint:collectionHint// Name\n,name:name// Promise library\n,promiseLibrary:promiseLibrary// Read Concern\n,readConcern:options.readConcern};};var define=Collection.define=new Define('Collection',Collection,false);Object.defineProperty(Collection.prototype,'collectionName',{enumerable:true,get:function(){return this.s.name;}});Object.defineProperty(Collection.prototype,'namespace',{enumerable:true,get:function(){return this.s.namespace;}});Object.defineProperty(Collection.prototype,'readConcern',{enumerable:true,get:function(){return this.s.readConcern||{level:'local'};}});Object.defineProperty(Collection.prototype,'writeConcern',{enumerable:true,get:function(){var ops={};if(this.s.options.w!=null)ops.w=this.s.options.w;if(this.s.options.j!=null)ops.j=this.s.options.j;if(this.s.options.fsync!=null)ops.fsync=this.s.options.fsync;if(this.s.options.wtimeout!=null)ops.wtimeout=this.s.options.wtimeout;return ops;}});/**\n * @ignore\n */Object.defineProperty(Collection.prototype,\"hint\",{enumerable:true,get:function(){return this.s.collectionHint;},set:function(v){this.s.collectionHint=normalizeHintField(v);}});/**\n * Creates a cursor for a query that can be used to iterate over results from MongoDB\n * @method\n * @param {object} query The cursor query object.\n * @throws {MongoError}\n * @return {Cursor}\n */Collection.prototype.find=function(){var options,args=Array.prototype.slice.call(arguments,0),has_callback=typeof args[args.length-1]==='function',has_weird_callback=typeof args[0]==='function',callback=has_callback?args.pop():has_weird_callback?args.shift():null,len=args.length,selector=len>=1?args[0]:{},fields=len>=2?args[1]:undefined;if(len===1&&has_weird_callback){// backwards compat for callback?, options case\nselector={};options=args[0];}if(len===2&&fields!==undefined&&!Array.isArray(fields)){var fieldKeys=Object.keys(fields);var is_option=false;for(var i=0;i<fieldKeys.length;i++){if(testForFields[fieldKeys[i]]!=null){is_option=true;break;}}if(is_option){options=fields;fields=undefined;}else{options={};}}else if(len===2&&Array.isArray(fields)&&!Array.isArray(fields[0])){var newFields={};// Rewrite the array\nfor(i=0;i<fields.length;i++){newFields[fields[i]]=1;}// Set the fields\nfields=newFields;}if(3===len){options=args[2];}// Ensure selector is not null\nselector=selector==null?{}:selector;// Validate correctness off the selector\nvar object=selector;if(Buffer.isBuffer(object)){var object_size=object[0]|object[1]<<8|object[2]<<16|object[3]<<24;if(object_size!=object.length){var error=new Error(\"query selector raw message size does not match message header size [\"+object.length+\"] != [\"+object_size+\"]\");error.name='MongoError';throw error;}}// Validate correctness of the field selector\nobject=fields;if(Buffer.isBuffer(object)){object_size=object[0]|object[1]<<8|object[2]<<16|object[3]<<24;if(object_size!=object.length){error=new Error(\"query fields raw message size does not match message header size [\"+object.length+\"] != [\"+object_size+\"]\");error.name='MongoError';throw error;}}// Check special case where we are using an objectId\nif(selector!=null&&selector._bsontype=='ObjectID'){selector={_id:selector};}// If it's a serialized fields field we need to just let it through\n// user be warned it better be good\nif(options&&options.fields&&!Buffer.isBuffer(options.fields)){fields={};if(Array.isArray(options.fields)){if(!options.fields.length){fields['_id']=1;}else{var l=options.fields.length;for(i=0;i<l;i++){fields[options.fields[i]]=1;}}}else{fields=options.fields;}}if(!options)options={};var newOptions={};// Make a shallow copy of the collection options\nfor(var key in this.s.options){if(mergeKeys.indexOf(key)!=-1){newOptions[key]=this.s.options[key];}}// Make a shallow copy of options\nfor(var key in options){newOptions[key]=options[key];}// Unpack options\nnewOptions.skip=len>3?args[2]:options.skip?options.skip:0;newOptions.limit=len>3?args[3]:options.limit?options.limit:0;newOptions.raw=options.raw!=null&&typeof options.raw==='boolean'?options.raw:this.s.raw;newOptions.hint=options.hint!=null?normalizeHintField(options.hint):this.s.collectionHint;newOptions.timeout=len==5?args[4]:typeof options.timeout==='undefined'?undefined:options.timeout;// // If we have overridden slaveOk otherwise use the default db setting\nnewOptions.slaveOk=options.slaveOk!=null?options.slaveOk:this.s.db.slaveOk;// Add read preference if needed\nnewOptions=getReadPreference(this,newOptions,this.s.db,this);// Set slave ok to true if read preference different from primary\nif(newOptions.readPreference!=null&&(newOptions.readPreference!='primary'||newOptions.readPreference.mode!='primary')){newOptions.slaveOk=true;}// Ensure the query is an object\nif(selector!=null&&typeof selector!='object'){throw MongoError.create({message:\"query selector must be an object\",driver:true});}// Build the find command\nvar findCommand={find:this.s.namespace,limit:newOptions.limit,skip:newOptions.skip,query:selector};// Ensure we use the right await data option\nif(typeof newOptions.awaitdata=='boolean'){newOptions.awaitData=newOptions.awaitdata;}// Translate to new command option noCursorTimeout\nif(typeof newOptions.timeout=='boolean')newOptions.noCursorTimeout=newOptions.timeout;// Merge in options to command\nfor(var name in newOptions){if(newOptions[name]!=null)findCommand[name]=newOptions[name];}// Format the fields\nvar formatFields=function(fields){var object={};if(Array.isArray(fields)){for(var i=0;i<fields.length;i++){if(Array.isArray(fields[i])){object[fields[i][0]]=fields[i][1];}else{object[fields[i][0]]=1;}}}else{object=fields;}return object;};// Special treatment for the fields selector\nif(fields)findCommand.fields=formatFields(fields);// Add db object to the new options\nnewOptions.db=this.s.db;// Add the promise library\nnewOptions.promiseLibrary=this.s.promiseLibrary;// Set raw if available at collection level\nif(newOptions.raw==null&&typeof this.s.raw=='boolean')newOptions.raw=this.s.raw;// Set promoteLongs if available at collection level\nif(newOptions.promoteLongs==null&&typeof this.s.promoteLongs=='boolean')newOptions.promoteLongs=this.s.promoteLongs;if(newOptions.promoteValues==null&&typeof this.s.promoteValues=='boolean')newOptions.promoteValues=this.s.promoteValues;if(newOptions.promoteBuffers==null&&typeof this.s.promoteBuffers=='boolean')newOptions.promoteBuffers=this.s.promoteBuffers;// Sort options\nif(findCommand.sort){findCommand.sort=formattedOrderClause(findCommand.sort);}// Set the readConcern\nif(this.s.readConcern){findCommand.readConcern=this.s.readConcern;}// Decorate find command with collation options\ndecorateWithCollation(findCommand,this,options);// Create the cursor\nif(typeof callback=='function')return handleCallback(callback,null,this.s.topology.cursor(this.s.namespace,findCommand,newOptions));return this.s.topology.cursor(this.s.namespace,findCommand,newOptions);};define.classMethod('find',{callback:false,promise:false,returns:[Cursor]});/**\n * Inserts a single document into MongoDB. If documents passed in do not contain the **_id** field,\n * one will be added to each of the documents missing it by the driver, mutating the document. This behavior\n * can be overridden by setting the **forceServerObjectId** flag.\n *\n * @method\n * @param {object} doc Document to insert.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.\n * @param {boolean} [options.forceServerObjectId=false] Force server to assign _id values instead of driver.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {Collection~insertOneWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.insertOne=function(doc,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};if(Array.isArray(doc)&&typeof callback=='function'){return callback(MongoError.create({message:'doc parameter must be an object',driver:true}));}else if(Array.isArray(doc)){return new this.s.promiseLibrary(function(resolve,reject){reject(MongoError.create({message:'doc parameter must be an object',driver:true}));});}// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return insertOne(self,doc,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){insertOne(self,doc,options,function(err,r){if(err)return reject(err);resolve(r);});});};var insertOne=function(self,doc,options,callback){insertDocuments(self,[doc],options,function(err,r){if(callback==null)return;if(err&&callback)return callback(err);// Workaround for pre 2.6 servers\nif(r==null)return callback(null,{result:{ok:1}});// Add values to top level to ensure crud spec compatibility\nr.insertedCount=r.result.n;r.insertedId=doc._id;if(callback)callback(null,r);});};var mapInserManyResults=function(docs,r){var ids=r.getInsertedIds();var keys=Object.keys(ids);var finalIds=new Array(keys.length);for(var i=0;i<keys.length;i++){if(ids[keys[i]]._id){finalIds[ids[keys[i]].index]=ids[keys[i]]._id;}}var finalResult={result:{ok:1,n:r.insertedCount},ops:docs,insertedCount:r.insertedCount,insertedIds:finalIds};if(r.getLastOp()){finalResult.result.opTime=r.getLastOp();}return finalResult;};define.classMethod('insertOne',{callback:true,promise:true});/**\n * Inserts an array of documents into MongoDB. If documents passed in do not contain the **_id** field,\n * one will be added to each of the documents missing it by the driver, mutating the document. This behavior\n * can be overridden by setting the **forceServerObjectId** flag.\n *\n * @method\n * @param {object[]} docs Documents to insert.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.\n * @param {boolean} [options.forceServerObjectId=false] Force server to assign _id values instead of driver.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {boolean} [options.ordered=true] If true, when an insert fails, don't execute the remaining writes. If false, continue with remaining inserts when one fails.\n * @param {Collection~insertWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.insertMany=function(docs,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{ordered:true};if(!Array.isArray(docs)&&typeof callback=='function'){return callback(MongoError.create({message:'docs parameter must be an array of documents',driver:true}));}else if(!Array.isArray(docs)){return new this.s.promiseLibrary(function(resolve,reject){reject(MongoError.create({message:'docs parameter must be an array of documents',driver:true}));});}// Get the write concern options\nif(typeof options.checkKeys!='boolean'){options.checkKeys=true;}// If keep going set unordered\noptions['serializeFunctions']=options['serializeFunctions']||self.s.serializeFunctions;// Set up the force server object id\nvar forceServerObjectId=typeof options.forceServerObjectId=='boolean'?options.forceServerObjectId:self.s.db.options.forceServerObjectId;// Do we want to force the server to assign the _id key\nif(forceServerObjectId!==true){// Add _id if not specified\nfor(var i=0;i<docs.length;i++){if(docs[i]._id==null)docs[i]._id=self.s.pkFactory.createPk();}}// Generate the bulk write operations\nvar operations=[{insertMany:docs}];// Execute using callback\nif(typeof callback=='function')return bulkWrite(self,operations,options,function(err,r){if(err)return callback(err,r);callback(null,mapInserManyResults(docs,r));});// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){bulkWrite(self,operations,options,function(err,r){if(err)return reject(err);resolve(mapInserManyResults(docs,r));});});};define.classMethod('insertMany',{callback:true,promise:true});/**\n * @typedef {Object} Collection~BulkWriteOpResult\n * @property {number} insertedCount Number of documents inserted.\n * @property {number} matchedCount Number of documents matched for update.\n * @property {number} modifiedCount Number of documents modified.\n * @property {number} deletedCount Number of documents deleted.\n * @property {number} upsertedCount Number of documents upserted.\n * @property {object} insertedIds Inserted document generated Id's, hash key is the index of the originating operation\n * @property {object} upsertedIds Upserted document generated Id's, hash key is the index of the originating operation\n * @property {object} result The command result object.\n *//**\n * The callback format for inserts\n * @callback Collection~bulkWriteOpCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection~BulkWriteOpResult} result The result object if the command was executed successfully.\n *//**\n * Perform a bulkWrite operation without a fluent API\n *\n * Legal operation types are\n *\n *  { insertOne: { document: { a: 1 } } }\n *\n *  { updateOne: { filter: {a:2}, update: {$set: {a:2}}, upsert:true } }\n *\n *  { updateMany: { filter: {a:2}, update: {$set: {a:2}}, upsert:true } }\n *\n *  { deleteOne: { filter: {c:1} } }\n *\n *  { deleteMany: { filter: {c:1} } }\n *\n *  { replaceOne: { filter: {c:3}, replacement: {c:4}, upsert:true}}\n *\n * If documents passed in do not contain the **_id** field,\n * one will be added to each of the documents missing it by the driver, mutating the document. This behavior\n * can be overridden by setting the **forceServerObjectId** flag.\n *\n * @method\n * @param {object[]} operations Bulk operations to perform.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.\n * @param {boolean} [options.ordered=true] Execute write operation in ordered or unordered fashion.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {Collection~bulkWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.bulkWrite=function(operations,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{ordered:true};if(!Array.isArray(operations)){throw MongoError.create({message:\"operations must be an array of documents\",driver:true});}// Execute using callback\nif(typeof callback=='function')return bulkWrite(self,operations,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){bulkWrite(self,operations,options,function(err,r){if(err&&r==null)return reject(err);resolve(r);});});};var bulkWrite=function(self,operations,options,callback){// Add ignoreUndfined\nif(self.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=self.s.options.ignoreUndefined;}// Create the bulk operation\nvar bulk=options.ordered==true||options.ordered==null?self.initializeOrderedBulkOp(options):self.initializeUnorderedBulkOp(options);// Do we have a collation\nvar collation=false;// for each op go through and add to the bulk\ntry{for(var i=0;i<operations.length;i++){// Get the operation type\nvar key=Object.keys(operations[i])[0];// Check if we have a collation\nif(operations[i][key].collation){collation=true;}// Pass to the raw bulk\nbulk.raw(operations[i]);}}catch(err){return callback(err,null);}// Final options for write concern\nvar finalOptions=writeConcern(shallowClone(options),self.s.db,self,options);var writeCon=finalOptions.writeConcern?finalOptions.writeConcern:{};var capabilities=self.s.topology.capabilities();// Did the user pass in a collation, check if our write server supports it\nif(collation&&capabilities&&!capabilities.commandsTakeCollation){return callback(new MongoError(f('server/primary/mongos does not support collation')));}// Execute the bulk\nbulk.execute(writeCon,function(err,r){// We have connection level error\nif(!r&&err)return callback(err,null);// We have single error\nif(r&&r.hasWriteErrors()&&r.getWriteErrorCount()==1){return callback(toError(r.getWriteErrorAt(0)),r);}r.insertedCount=r.nInserted;r.matchedCount=r.nMatched;r.modifiedCount=r.nModified||0;r.deletedCount=r.nRemoved;r.upsertedCount=r.getUpsertedIds().length;r.upsertedIds={};r.insertedIds={};// Update the n\nr.n=r.insertedCount;// Inserted documents\nvar inserted=r.getInsertedIds();// Map inserted ids\nfor(var i=0;i<inserted.length;i++){r.insertedIds[inserted[i].index]=inserted[i]._id;}// Upserted documents\nvar upserted=r.getUpsertedIds();// Map upserted ids\nfor(i=0;i<upserted.length;i++){r.upsertedIds[upserted[i].index]=upserted[i]._id;}// Check if we have write errors\nif(r.hasWriteErrors()){// Get all the errors\nvar errors=r.getWriteErrors();// Return the MongoError object\nreturn callback(toError({message:'write operation failed',code:errors[0].code,writeErrors:errors}),r);}// Check if we have a writeConcern error\nif(r.getWriteConcernError()){// Return the MongoError object\nreturn callback(toError(r.getWriteConcernError()),r);}// Return the results\ncallback(null,r);});};var insertDocuments=function(self,docs,options,callback){if(typeof options=='function')callback=options,options={};options=options||{};// Ensure we are operating on an array op docs\ndocs=Array.isArray(docs)?docs:[docs];// Get the write concern options\nvar finalOptions=writeConcern(shallowClone(options),self.s.db,self,options);if(typeof finalOptions.checkKeys!='boolean')finalOptions.checkKeys=true;// If keep going set unordered\nif(finalOptions.keepGoing==true)finalOptions.ordered=false;finalOptions['serializeFunctions']=options['serializeFunctions']||self.s.serializeFunctions;// Set up the force server object id\nvar forceServerObjectId=typeof options.forceServerObjectId=='boolean'?options.forceServerObjectId:self.s.db.options.forceServerObjectId;// Add _id if not specified\nif(forceServerObjectId!==true){for(var i=0;i<docs.length;i++){if(docs[i]._id===void 0)docs[i]._id=self.s.pkFactory.createPk();}}// File inserts\nself.s.topology.insert(self.s.namespace,docs,finalOptions,function(err,result){if(callback==null)return;if(err)return handleCallback(callback,err);if(result==null)return handleCallback(callback,null,null);if(result.result.code)return handleCallback(callback,toError(result.result));if(result.result.writeErrors)return handleCallback(callback,toError(result.result.writeErrors[0]));// Add docs to the list\nresult.ops=docs;// Return the results\nhandleCallback(callback,null,result);});};define.classMethod('bulkWrite',{callback:true,promise:true});/**\n * @typedef {Object} Collection~WriteOpResult\n * @property {object[]} ops All the documents inserted using insertOne/insertMany/replaceOne. Documents contain the _id field if forceServerObjectId == false for insertOne/insertMany\n * @property {object} connection The connection object used for the operation.\n * @property {object} result The command result object.\n *//**\n * The callback format for inserts\n * @callback Collection~writeOpCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection~WriteOpResult} result The result object if the command was executed successfully.\n *//**\n * @typedef {Object} Collection~insertWriteOpResult\n * @property {Number} insertedCount The total amount of documents inserted.\n * @property {object[]} ops All the documents inserted using insertOne/insertMany/replaceOne. Documents contain the _id field if forceServerObjectId == false for insertOne/insertMany\n * @property {ObjectId[]} insertedIds All the generated _id's for the inserted documents.\n * @property {object} connection The connection object used for the operation.\n * @property {object} result The raw command result object returned from MongoDB (content might vary by server version).\n * @property {Number} result.ok Is 1 if the command executed correctly.\n * @property {Number} result.n The total count of documents inserted.\n *//**\n * @typedef {Object} Collection~insertOneWriteOpResult\n * @property {Number} insertedCount The total amount of documents inserted.\n * @property {object[]} ops All the documents inserted using insertOne/insertMany/replaceOne. Documents contain the _id field if forceServerObjectId == false for insertOne/insertMany\n * @property {ObjectId} insertedId The driver generated ObjectId for the insert operation.\n * @property {object} connection The connection object used for the operation.\n * @property {object} result The raw command result object returned from MongoDB (content might vary by server version).\n * @property {Number} result.ok Is 1 if the command executed correctly.\n * @property {Number} result.n The total count of documents inserted.\n *//**\n * The callback format for inserts\n * @callback Collection~insertWriteOpCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection~insertWriteOpResult} result The result object if the command was executed successfully.\n *//**\n * The callback format for inserts\n * @callback Collection~insertOneWriteOpCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection~insertOneWriteOpResult} result The result object if the command was executed successfully.\n *//**\n * Inserts a single document or a an array of documents into MongoDB. If documents passed in do not contain the **_id** field,\n * one will be added to each of the documents missing it by the driver, mutating the document. This behavior\n * can be overridden by setting the **forceServerObjectId** flag.\n *\n * @method\n * @param {(object|object[])} docs Documents to insert.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.serializeFunctions=false] Serialize functions on any object.\n * @param {boolean} [options.forceServerObjectId=false] Force server to assign _id values instead of driver.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {Collection~insertWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n * @deprecated Use insertOne, insertMany or bulkWrite\n */Collection.prototype.insert=function(docs,options,callback){if(typeof options=='function')callback=options,options={};options=options||{ordered:false};docs=!Array.isArray(docs)?[docs]:docs;if(options.keepGoing==true){options.ordered=false;}return this.insertMany(docs,options,callback);};define.classMethod('insert',{callback:true,promise:true});/**\n * @typedef {Object} Collection~updateWriteOpResult\n * @property {Object} result The raw result returned from MongoDB, field will vary depending on server version.\n * @property {Number} result.ok Is 1 if the command executed correctly.\n * @property {Number} result.n The total count of documents scanned.\n * @property {Number} result.nModified The total count of documents modified.\n * @property {Object} connection The connection object used for the operation.\n * @property {Number} matchedCount The number of documents that matched the filter.\n * @property {Number} modifiedCount The number of documents that were modified.\n * @property {Number} upsertedCount The number of documents upserted.\n * @property {Object} upsertedId The upserted id.\n * @property {ObjectId} upsertedId._id The upserted _id returned from the server.\n *//**\n * The callback format for inserts\n * @callback Collection~updateWriteOpCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection~updateWriteOpResult} result The result object if the command was executed successfully.\n *//**\n * Update a single document on MongoDB\n * @method\n * @param {object} filter The Filter used to select the document to update\n * @param {object} update The update operations to be applied to the document\n * @param {object} [options=null] Optional settings.\n * @param {boolean} [options.upsert=false] Update operation is an upsert.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {Collection~updateWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.updateOne=function(filter,update,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=shallowClone(options);// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return updateOne(self,filter,update,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){updateOne(self,filter,update,options,function(err,r){if(err)return reject(err);resolve(r);});});};var updateOne=function(self,filter,update,options,callback){// Set single document update\noptions.multi=false;// Execute update\nupdateDocuments(self,filter,update,options,function(err,r){if(callback==null)return;if(err&&callback)return callback(err);if(r==null)return callback(null,{result:{ok:1}});r.modifiedCount=r.result.nModified!=null?r.result.nModified:r.result.n;r.upsertedId=Array.isArray(r.result.upserted)&&r.result.upserted.length>0?r.result.upserted[0]:null;r.upsertedCount=Array.isArray(r.result.upserted)&&r.result.upserted.length?r.result.upserted.length:0;r.matchedCount=Array.isArray(r.result.upserted)&&r.result.upserted.length>0?0:r.result.n;if(callback)callback(null,r);});};define.classMethod('updateOne',{callback:true,promise:true});/**\n * Replace a document on MongoDB\n * @method\n * @param {object} filter The Filter used to select the document to update\n * @param {object} doc The Document that replaces the matching document\n * @param {object} [options=null] Optional settings.\n * @param {boolean} [options.upsert=false] Update operation is an upsert.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {Collection~updateWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.replaceOne=function(filter,doc,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=shallowClone(options);// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return replaceOne(self,filter,doc,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){replaceOne(self,filter,doc,options,function(err,r){if(err)return reject(err);resolve(r);});});};var replaceOne=function(self,filter,doc,options,callback){// Set single document update\noptions.multi=false;// Execute update\nupdateDocuments(self,filter,doc,options,function(err,r){if(callback==null)return;if(err&&callback)return callback(err);if(r==null)return callback(null,{result:{ok:1}});r.modifiedCount=r.result.nModified!=null?r.result.nModified:r.result.n;r.upsertedId=Array.isArray(r.result.upserted)&&r.result.upserted.length>0?r.result.upserted[0]:null;r.upsertedCount=Array.isArray(r.result.upserted)&&r.result.upserted.length?r.result.upserted.length:0;r.matchedCount=Array.isArray(r.result.upserted)&&r.result.upserted.length>0?0:r.result.n;r.ops=[doc];if(callback)callback(null,r);});};define.classMethod('replaceOne',{callback:true,promise:true});/**\n * Update multiple documents on MongoDB\n * @method\n * @param {object} filter The Filter used to select the document to update\n * @param {object} update The update operations to be applied to the document\n * @param {object} [options=null] Optional settings.\n * @param {boolean} [options.upsert=false] Update operation is an upsert.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {Collection~updateWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.updateMany=function(filter,update,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=shallowClone(options);// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return updateMany(self,filter,update,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){updateMany(self,filter,update,options,function(err,r){if(err)return reject(err);resolve(r);});});};var updateMany=function(self,filter,update,options,callback){// Set single document update\noptions.multi=true;// Execute update\nupdateDocuments(self,filter,update,options,function(err,r){if(callback==null)return;if(err&&callback)return callback(err);if(r==null)return callback(null,{result:{ok:1}});r.modifiedCount=r.result.nModified!=null?r.result.nModified:r.result.n;r.upsertedId=Array.isArray(r.result.upserted)&&r.result.upserted.length>0?r.result.upserted[0]:null;r.upsertedCount=Array.isArray(r.result.upserted)&&r.result.upserted.length?r.result.upserted.length:0;r.matchedCount=Array.isArray(r.result.upserted)&&r.result.upserted.length>0?0:r.result.n;if(callback)callback(null,r);});};define.classMethod('updateMany',{callback:true,promise:true});var updateDocuments=function(self,selector,document,options,callback){if('function'===typeof options)callback=options,options=null;if(options==null)options={};if(!('function'===typeof callback))callback=null;// If we are not providing a selector or document throw\nif(selector==null||typeof selector!='object')return callback(toError(\"selector must be a valid JavaScript object\"));if(document==null||typeof document!='object')return callback(toError(\"document must be a valid JavaScript object\"));// Get the write concern options\nvar finalOptions=writeConcern(shallowClone(options),self.s.db,self,options);// Do we return the actual result document\n// Either use override on the function, or go back to default on either the collection\n// level or db\nfinalOptions['serializeFunctions']=options['serializeFunctions']||self.s.serializeFunctions;// Execute the operation\nvar op={q:selector,u:document};op.upsert=typeof options.upsert=='boolean'?options.upsert:false;op.multi=typeof options.multi=='boolean'?options.multi:false;// Have we specified collation\ndecorateWithCollation(finalOptions,self,options);// Update options\nself.s.topology.update(self.s.namespace,[op],finalOptions,function(err,result){if(callback==null)return;if(err)return handleCallback(callback,err,null);if(result==null)return handleCallback(callback,null,null);if(result.result.code)return handleCallback(callback,toError(result.result));if(result.result.writeErrors)return handleCallback(callback,toError(result.result.writeErrors[0]));// Return the results\nhandleCallback(callback,null,result);});};/**\n * Updates documents.\n * @method\n * @param {object} selector The selector for the update operation.\n * @param {object} document The update document.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.upsert=false] Update operation is an upsert.\n * @param {boolean} [options.multi=false] Update one/all documents with operation.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {object} [options.collation=null] Specify collation (MongoDB 3.4 or higher) settings for update operation (see 3.4 documentation for available fields).\n * @param {Collection~writeOpCallback} [callback] The command result callback\n * @throws {MongoError}\n * @return {Promise} returns Promise if no callback passed\n * @deprecated use updateOne, updateMany or bulkWrite\n */Collection.prototype.update=function(selector,document,options,callback){var self=this;// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return updateDocuments(self,selector,document,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){updateDocuments(self,selector,document,options,function(err,r){if(err)return reject(err);resolve(r);});});};define.classMethod('update',{callback:true,promise:true});/**\n * @typedef {Object} Collection~deleteWriteOpResult\n * @property {Object} result The raw result returned from MongoDB, field will vary depending on server version.\n * @property {Number} result.ok Is 1 if the command executed correctly.\n * @property {Number} result.n The total count of documents deleted.\n * @property {Object} connection The connection object used for the operation.\n * @property {Number} deletedCount The number of documents deleted.\n *//**\n * The callback format for inserts\n * @callback Collection~deleteWriteOpCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection~deleteWriteOpResult} result The result object if the command was executed successfully.\n *//**\n * Delete a document on MongoDB\n * @method\n * @param {object} filter The Filter used to select the document to remove\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {Collection~deleteWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.deleteOne=function(filter,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=shallowClone(options);// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return deleteOne(self,filter,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){deleteOne(self,filter,options,function(err,r){if(err)return reject(err);resolve(r);});});};var deleteOne=function(self,filter,options,callback){options.single=true;removeDocuments(self,filter,options,function(err,r){if(callback==null)return;if(err&&callback)return callback(err);if(r==null)return callback(null,{result:{ok:1}});r.deletedCount=r.result.n;if(callback)callback(null,r);});};define.classMethod('deleteOne',{callback:true,promise:true});Collection.prototype.removeOne=Collection.prototype.deleteOne;define.classMethod('removeOne',{callback:true,promise:true});/**\n * Delete multiple documents on MongoDB\n * @method\n * @param {object} filter The Filter used to select the documents to remove\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {Collection~deleteWriteOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.deleteMany=function(filter,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=shallowClone(options);// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return deleteMany(self,filter,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){deleteMany(self,filter,options,function(err,r){if(err)return reject(err);resolve(r);});});};var deleteMany=function(self,filter,options,callback){options.single=false;removeDocuments(self,filter,options,function(err,r){if(callback==null)return;if(err&&callback)return callback(err);if(r==null)return callback(null,{result:{ok:1}});r.deletedCount=r.result.n;if(callback)callback(null,r);});};var removeDocuments=function(self,selector,options,callback){if(typeof options=='function'){callback=options,options={};}else if(typeof selector==='function'){callback=selector;options={};selector={};}// Create an empty options object if the provided one is null\noptions=options||{};// Get the write concern options\nvar finalOptions=writeConcern(shallowClone(options),self.s.db,self,options);// If selector is null set empty\nif(selector==null)selector={};// Build the op\nvar op={q:selector,limit:0};if(options.single)op.limit=1;// Have we specified collation\ndecorateWithCollation(finalOptions,self,options);// Execute the remove\nself.s.topology.remove(self.s.namespace,[op],finalOptions,function(err,result){if(callback==null)return;if(err)return handleCallback(callback,err,null);if(result==null)return handleCallback(callback,null,null);if(result.result.code)return handleCallback(callback,toError(result.result));if(result.result.writeErrors)return handleCallback(callback,toError(result.result.writeErrors[0]));// Return the results\nhandleCallback(callback,null,result);});};define.classMethod('deleteMany',{callback:true,promise:true});Collection.prototype.removeMany=Collection.prototype.deleteMany;define.classMethod('removeMany',{callback:true,promise:true});/**\n * Remove documents.\n * @method\n * @param {object} selector The selector for the update operation.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.single=false] Removes the first document found.\n * @param {Collection~writeOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n * @deprecated use deleteOne, deleteMany or bulkWrite\n */Collection.prototype.remove=function(selector,options,callback){var self=this;// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return removeDocuments(self,selector,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){removeDocuments(self,selector,options,function(err,r){if(err)return reject(err);resolve(r);});});};define.classMethod('remove',{callback:true,promise:true});/**\n * Save a document. Simple full document replacement function. Not recommended for efficiency, use atomic\n * operators and update instead for more efficient operations.\n * @method\n * @param {object} doc Document to save\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {Collection~writeOpCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n * @deprecated use insertOne, insertMany, updateOne or updateMany\n */Collection.prototype.save=function(doc,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};// Add ignoreUndfined\nif(this.s.options.ignoreUndefined){options=shallowClone(options);options.ignoreUndefined=this.s.options.ignoreUndefined;}// Execute using callback\nif(typeof callback=='function')return save(self,doc,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){save(self,doc,options,function(err,r){if(err)return reject(err);resolve(r);});});};var save=function(self,doc,options,callback){// Get the write concern options\nvar finalOptions=writeConcern(shallowClone(options),self.s.db,self,options);// Establish if we need to perform an insert or update\nif(doc._id!=null){finalOptions.upsert=true;return updateDocuments(self,{_id:doc._id},doc,finalOptions,callback);}// Insert the document\ninsertDocuments(self,[doc],options,function(err,r){if(callback==null)return;if(doc==null)return handleCallback(callback,null,null);if(err)return handleCallback(callback,err,null);handleCallback(callback,null,r);});};define.classMethod('save',{callback:true,promise:true});/**\n * The callback format for results\n * @callback Collection~resultCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {object} result The result object if the command was executed successfully.\n *//**\n * Fetches the first document that matches the query\n * @method\n * @param {object} query Query for find Operation\n * @param {object} [options=null] Optional settings.\n * @param {number} [options.limit=0] Sets the limit of documents returned in the query.\n * @param {(array|object)} [options.sort=null] Set to sort the documents coming back from the query. Array of indexes, [['a', 1]] etc.\n * @param {object} [options.fields=null] The fields to return in the query. Object of fields to include or exclude (not both), {'a':1}\n * @param {number} [options.skip=0] Set to skip N documents ahead in your query (useful for pagination).\n * @param {Object} [options.hint=null] Tell the query to use specific indexes in the query. Object of indexes to use, {'_id':1}\n * @param {boolean} [options.explain=false] Explain the query instead of returning the data.\n * @param {boolean} [options.snapshot=false] Snapshot query.\n * @param {boolean} [options.timeout=false] Specify if the cursor can timeout.\n * @param {boolean} [options.tailable=false] Specify if the cursor is tailable.\n * @param {number} [options.batchSize=0] Set the batchSize for the getMoreCommand when iterating over the query results.\n * @param {boolean} [options.returnKey=false] Only return the index key.\n * @param {number} [options.maxScan=null] Limit the number of items to scan.\n * @param {number} [options.min=null] Set index bounds.\n * @param {number} [options.max=null] Set index bounds.\n * @param {boolean} [options.showDiskLoc=false] Show disk location of results.\n * @param {string} [options.comment=null] You can put a $comment field on a query to make looking in the profiler logs simpler.\n * @param {boolean} [options.raw=false] Return document results as raw BSON buffers.\n * @param {boolean} [options.promoteLongs=true] Promotes Long values to number if they fit inside the 53 bits resolution.\n * @param {boolean} [options.promoteValues=true] Promotes BSON values to native types where possible, set to false to only receive wrapper types.\n * @param {boolean} [options.promoteBuffers=false] Promotes Binary BSON values to native Node Buffers.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {boolean} [options.partial=false] Specify if the cursor should return partial results when querying against a sharded system\n * @param {number} [options.maxTimeMS=null] Number of miliseconds to wait before aborting the query.\n * @param {object} [options.collation=null] Specify collation (MongoDB 3.4 or higher) settings for update operation (see 3.4 documentation for available fields).\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.findOne=function(){var self=this;var args=Array.prototype.slice.call(arguments,0);var callback=args.pop();if(typeof callback!='function')args.push(callback);// Execute using callback\nif(typeof callback=='function')return findOne(self,args,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){findOne(self,args,function(err,r){if(err)return reject(err);resolve(r);});});};var findOne=function(self,args,callback){var cursor=self.find.apply(self,args).limit(-1).batchSize(1);// Return the item\ncursor.next(function(err,item){if(err!=null)return handleCallback(callback,toError(err),null);handleCallback(callback,null,item);});};define.classMethod('findOne',{callback:true,promise:true});/**\n * The callback format for the collection method, must be used if strict is specified\n * @callback Collection~collectionResultCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection} collection The collection instance.\n *//**\n * Rename the collection.\n *\n * @method\n * @param {string} newName New name of of the collection.\n * @param {object} [options=null] Optional settings.\n * @param {boolean} [options.dropTarget=false] Drop the target name collection if it previously exists.\n * @param {Collection~collectionResultCallback} [callback] The results callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.rename=function(newName,opt,callback){var self=this;if(typeof opt=='function')callback=opt,opt={};opt=assign({},opt,{readPreference:ReadPreference.PRIMARY});// Execute using callback\nif(typeof callback=='function')return rename(self,newName,opt,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){rename(self,newName,opt,function(err,r){if(err)return reject(err);resolve(r);});});};var rename=function(self,newName,opt,callback){// Check the collection name\ncheckCollectionName(newName);// Build the command\nvar renameCollection=f(\"%s.%s\",self.s.dbName,self.s.name);var toCollection=f(\"%s.%s\",self.s.dbName,newName);var dropTarget=typeof opt.dropTarget=='boolean'?opt.dropTarget:false;var cmd={'renameCollection':renameCollection,'to':toCollection,'dropTarget':dropTarget};// Decorate command with writeConcern if supported\ndecorateWithWriteConcern(cmd,self,opt);// Execute against admin\nself.s.db.admin().command(cmd,opt,function(err,doc){if(err)return handleCallback(callback,err,null);// We have an error\nif(doc.errmsg)return handleCallback(callback,toError(doc),null);try{return handleCallback(callback,null,new Collection(self.s.db,self.s.topology,self.s.dbName,newName,self.s.pkFactory,self.s.options));}catch(err){return handleCallback(callback,toError(err),null);}});};define.classMethod('rename',{callback:true,promise:true});/**\n * Drop the collection from the database, removing it permanently. New accesses will create a new collection.\n *\n * @method\n * @param {object} [options=null] Optional settings.\n * @param {Collection~resultCallback} [callback] The results callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.drop=function(options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};// Execute using callback\nif(typeof callback=='function')return self.s.db.dropCollection(self.s.name,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){self.s.db.dropCollection(self.s.name,options,function(err,r){if(err)return reject(err);resolve(r);});});};define.classMethod('drop',{callback:true,promise:true});/**\n * Returns the options of the collection.\n *\n * @method\n * @param {Collection~resultCallback} [callback] The results callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.options=function(callback){var self=this;// Execute using callback\nif(typeof callback=='function')return options(self,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){options(self,function(err,r){if(err)return reject(err);resolve(r);});});};var options=function(self,callback){self.s.db.listCollections({name:self.s.name}).toArray(function(err,collections){if(err)return handleCallback(callback,err);if(collections.length==0){return handleCallback(callback,MongoError.create({message:f(\"collection %s not found\",self.s.namespace),driver:true}));}handleCallback(callback,err,collections[0].options||null);});};define.classMethod('options',{callback:true,promise:true});/**\n * Returns if the collection is a capped collection\n *\n * @method\n * @param {Collection~resultCallback} [callback] The results callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.isCapped=function(callback){var self=this;// Execute using callback\nif(typeof callback=='function')return isCapped(self,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){isCapped(self,function(err,r){if(err)return reject(err);resolve(r);});});};var isCapped=function(self,callback){self.options(function(err,document){if(err)return handleCallback(callback,err);handleCallback(callback,null,document&&document.capped);});};define.classMethod('isCapped',{callback:true,promise:true});/**\n * Creates an index on the db and collection collection.\n * @method\n * @param {(string|object)} fieldOrSpec Defines the index.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.unique=false] Creates an unique index.\n * @param {boolean} [options.sparse=false] Creates a sparse index.\n * @param {boolean} [options.background=false] Creates the index in the background, yielding whenever possible.\n * @param {boolean} [options.dropDups=false] A unique index cannot be created on a key that has pre-existing duplicate values. If you would like to create the index anyway, keeping the first document the database indexes and deleting all subsequent documents that have duplicate value\n * @param {number} [options.min=null] For geospatial indexes set the lower bound for the co-ordinates.\n * @param {number} [options.max=null] For geospatial indexes set the high bound for the co-ordinates.\n * @param {number} [options.v=null] Specify the format version of the indexes.\n * @param {number} [options.expireAfterSeconds=null] Allows you to expire data on indexes applied to a data (MongoDB 2.2 or higher)\n * @param {string} [options.name=null] Override the autogenerated index name (useful if the resulting name is larger than 128 bytes)\n * @param {object} [options.partialFilterExpression=null] Creates a partial index based on the given filter object (MongoDB 3.2 or higher)\n * @param {object} [options.collation=null] Specify collation (MongoDB 3.4 or higher) settings for update operation (see 3.4 documentation for available fields).\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.createIndex=function(fieldOrSpec,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,1);callback=args.pop();if(typeof callback!='function')args.push(callback);options=args.length?args.shift()||{}:{};options=typeof callback==='function'?options:callback;options=options==null?{}:options;// Execute using callback\nif(typeof callback=='function')return createIndex(self,fieldOrSpec,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){createIndex(self,fieldOrSpec,options,function(err,r){if(err)return reject(err);resolve(r);});});};var createIndex=function(self,fieldOrSpec,options,callback){self.s.db.createIndex(self.s.name,fieldOrSpec,options,callback);};define.classMethod('createIndex',{callback:true,promise:true});/**\n * Creates multiple indexes in the collection, this method is only supported for\n * MongoDB 2.6 or higher. Earlier version of MongoDB will throw a command not supported\n * error. Index specifications are defined at http://docs.mongodb.org/manual/reference/command/createIndexes/.\n * @method\n * @param {array} indexSpecs An array of index specifications to be created\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.createIndexes=function(indexSpecs,callback){var self=this;// Execute using callback\nif(typeof callback=='function')return createIndexes(self,indexSpecs,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){createIndexes(self,indexSpecs,function(err,r){if(err)return reject(err);resolve(r);});});};var createIndexes=function(self,indexSpecs,callback){var capabilities=self.s.topology.capabilities();// Ensure we generate the correct name if the parameter is not set\nfor(var i=0;i<indexSpecs.length;i++){if(indexSpecs[i].name==null){var keys=[];// Did the user pass in a collation, check if our write server supports it\nif(indexSpecs[i].collation&&capabilities&&!capabilities.commandsTakeCollation){return callback(new MongoError(f('server/primary/mongos does not support collation')));}for(var name in indexSpecs[i].key){keys.push(f('%s_%s',name,indexSpecs[i].key[name]));}// Set the name\nindexSpecs[i].name=keys.join('_');}}// Execute the index\nself.s.db.command({createIndexes:self.s.name,indexes:indexSpecs},{readPreference:ReadPreference.PRIMARY},callback);};define.classMethod('createIndexes',{callback:true,promise:true});/**\n * Drops an index from this collection.\n * @method\n * @param {string} indexName Name of the index to drop.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.dropIndex=function(indexName,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,1);callback=args.pop();if(typeof callback!='function')args.push(callback);options=args.length?args.shift()||{}:{};// Run only against primary\noptions.readPreference=ReadPreference.PRIMARY;// Execute using callback\nif(typeof callback=='function')return dropIndex(self,indexName,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){dropIndex(self,indexName,options,function(err,r){if(err)return reject(err);resolve(r);});});};var dropIndex=function(self,indexName,options,callback){// Delete index command\nvar cmd={'dropIndexes':self.s.name,'index':indexName};// Decorate command with writeConcern if supported\ndecorateWithWriteConcern(cmd,self,options);// Execute command\nself.s.db.command(cmd,options,function(err,result){if(typeof callback!='function')return;if(err)return handleCallback(callback,err,null);handleCallback(callback,null,result);});};define.classMethod('dropIndex',{callback:true,promise:true});/**\n * Drops all indexes from this collection.\n * @method\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.dropIndexes=function(options,callback){var self=this;// Do we have options\nif(typeof options=='function')callback=options,options={};options=options||{};// Execute using callback\nif(typeof callback=='function')return dropIndexes(self,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){dropIndexes(self,function(err,r){if(err)return reject(err);resolve(r);});});};var dropIndexes=function(self,options,callback){self.dropIndex('*',options,function(err){if(err)return handleCallback(callback,err,false);handleCallback(callback,null,true);});};define.classMethod('dropIndexes',{callback:true,promise:true});/**\n * Drops all indexes from this collection.\n * @method\n * @deprecated use dropIndexes\n * @param {Collection~resultCallback} callback The command result callback\n * @return {Promise} returns Promise if no [callback] passed\n */Collection.prototype.dropAllIndexes=Collection.prototype.dropIndexes;define.classMethod('dropAllIndexes',{callback:true,promise:true});/**\n * Reindex all indexes on the collection\n * Warning: reIndex is a blocking operation (indexes are rebuilt in the foreground) and will be slow for large collections.\n * @method\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.reIndex=function(options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};// Execute using callback\nif(typeof callback=='function')return reIndex(self,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){reIndex(self,options,function(err,r){if(err)return reject(err);resolve(r);});});};var reIndex=function(self,options,callback){// Reindex\nvar cmd={'reIndex':self.s.name};// Execute the command\nself.s.db.command(cmd,options,function(err,result){if(callback==null)return;if(err)return handleCallback(callback,err,null);handleCallback(callback,null,result.ok?true:false);});};define.classMethod('reIndex',{callback:true,promise:true});/**\n * Get the list of all indexes information for the collection.\n *\n * @method\n * @param {object} [options=null] Optional settings.\n * @param {number} [options.batchSize=null] The batchSize for the returned command cursor or if pre 2.8 the systems batch collection\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @return {CommandCursor}\n */Collection.prototype.listIndexes=function(options){options=options||{};// Clone the options\noptions=shallowClone(options);// Determine the read preference in the options.\noptions=getReadPreference(this,options,this.s.db,this);// Set the CommandCursor constructor\noptions.cursorFactory=CommandCursor;// Set the promiseLibrary\noptions.promiseLibrary=this.s.promiseLibrary;if(!this.s.topology.capabilities()){throw new MongoError('cannot connect to server');}// We have a list collections command\nif(this.s.topology.capabilities().hasListIndexesCommand){// Cursor options\nvar cursor=options.batchSize?{batchSize:options.batchSize}:{};// Build the command\nvar command={listIndexes:this.s.name,cursor:cursor};// Execute the cursor\ncursor=this.s.topology.cursor(f('%s.$cmd',this.s.dbName),command,options);// Do we have a readPreference, apply it\nif(options.readPreference)cursor.setReadPreference(options.readPreference);// Return the cursor\nreturn cursor;}// Get the namespace\nvar ns=f('%s.system.indexes',this.s.dbName);// Get the query\ncursor=this.s.topology.cursor(ns,{find:ns,query:{ns:this.s.namespace}},options);// Do we have a readPreference, apply it\nif(options.readPreference)cursor.setReadPreference(options.readPreference);// Set the passed in batch size if one was provided\nif(options.batchSize)cursor=cursor.batchSize(options.batchSize);// Return the cursor\nreturn cursor;};define.classMethod('listIndexes',{callback:false,promise:false,returns:[CommandCursor]});/**\n * Ensures that an index exists, if it does not it creates it\n * @method\n * @deprecated use createIndexes instead\n * @param {(string|object)} fieldOrSpec Defines the index.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.unique=false] Creates an unique index.\n * @param {boolean} [options.sparse=false] Creates a sparse index.\n * @param {boolean} [options.background=false] Creates the index in the background, yielding whenever possible.\n * @param {boolean} [options.dropDups=false] A unique index cannot be created on a key that has pre-existing duplicate values. If you would like to create the index anyway, keeping the first document the database indexes and deleting all subsequent documents that have duplicate value\n * @param {number} [options.min=null] For geospatial indexes set the lower bound for the co-ordinates.\n * @param {number} [options.max=null] For geospatial indexes set the high bound for the co-ordinates.\n * @param {number} [options.v=null] Specify the format version of the indexes.\n * @param {number} [options.expireAfterSeconds=null] Allows you to expire data on indexes applied to a data (MongoDB 2.2 or higher)\n * @param {number} [options.name=null] Override the autogenerated index name (useful if the resulting name is larger than 128 bytes)\n * @param {object} [options.collation=null] Specify collation (MongoDB 3.4 or higher) settings for update operation (see 3.4 documentation for available fields).\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.ensureIndex=function(fieldOrSpec,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};// Execute using callback\nif(typeof callback=='function')return ensureIndex(self,fieldOrSpec,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){ensureIndex(self,fieldOrSpec,options,function(err,r){if(err)return reject(err);resolve(r);});});};var ensureIndex=function(self,fieldOrSpec,options,callback){self.s.db.ensureIndex(self.s.name,fieldOrSpec,options,callback);};define.classMethod('ensureIndex',{callback:true,promise:true});/**\n * Checks if one or more indexes exist on the collection, fails on first non-existing index\n * @method\n * @param {(string|array)} indexes One or more index names to check.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.indexExists=function(indexes,callback){var self=this;// Execute using callback\nif(typeof callback=='function')return indexExists(self,indexes,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){indexExists(self,indexes,function(err,r){if(err)return reject(err);resolve(r);});});};var indexExists=function(self,indexes,callback){self.indexInformation(function(err,indexInformation){// If we have an error return\nif(err!=null)return handleCallback(callback,err,null);// Let's check for the index names\nif(!Array.isArray(indexes))return handleCallback(callback,null,indexInformation[indexes]!=null);// Check in list of indexes\nfor(var i=0;i<indexes.length;i++){if(indexInformation[indexes[i]]==null){return handleCallback(callback,null,false);}}// All keys found return true\nreturn handleCallback(callback,null,true);});};define.classMethod('indexExists',{callback:true,promise:true});/**\n * Retrieves this collections index info.\n * @method\n * @param {object} [options=null] Optional settings.\n * @param {boolean} [options.full=false] Returns the full raw index information.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.indexInformation=function(options,callback){var self=this;// Unpack calls\nvar args=Array.prototype.slice.call(arguments,0);callback=args.pop();if(typeof callback!='function')args.push(callback);options=args.length?args.shift()||{}:{};// Execute using callback\nif(typeof callback=='function')return indexInformation(self,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){indexInformation(self,options,function(err,r){if(err)return reject(err);resolve(r);});});};var indexInformation=function(self,options,callback){self.s.db.indexInformation(self.s.name,options,callback);};define.classMethod('indexInformation',{callback:true,promise:true});/**\n * The callback format for results\n * @callback Collection~countCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {number} result The count of documents that matched the query.\n *//**\n * Count number of matching documents in the db to a query.\n * @method\n * @param {object} query The query for the count.\n * @param {object} [options=null] Optional settings.\n * @param {boolean} [options.limit=null] The limit of documents to count.\n * @param {boolean} [options.skip=null] The number of documents to skip for the count.\n * @param {string} [options.hint=null] An index name hint for the query.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {number} [options.maxTimeMS=null] Number of miliseconds to wait before aborting the query.\n * @param {Collection~countCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.count=function(query,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,0);callback=args.pop();if(typeof callback!='function')args.push(callback);var queryOption=args.length?args.shift()||{}:{};var optionsOption=args.length?args.shift()||{}:{};// Execute using callback\nif(typeof callback=='function')return count(self,queryOption,optionsOption,callback);// Check if query is empty\nquery=query||{};options=options||{};// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){count(self,query,options,function(err,r){if(err)return reject(err);resolve(r);});});};var count=function(self,query,options,callback){var skip=options.skip;var limit=options.limit;var hint=options.hint;var maxTimeMS=options.maxTimeMS;// Final query\nvar cmd={'count':self.s.name,'query':query};// Add limit, skip and maxTimeMS if defined\nif(typeof skip=='number')cmd.skip=skip;if(typeof limit=='number')cmd.limit=limit;if(typeof maxTimeMS=='number')cmd.maxTimeMS=maxTimeMS;if(hint)cmd.hint=hint;options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(self,options,self.s.db,self);// Do we have a readConcern specified\nif(self.s.readConcern){cmd.readConcern=self.s.readConcern;}// Have we specified collation\ndecorateWithCollation(cmd,self,options);// Execute command\nself.s.db.command(cmd,options,function(err,result){if(err)return handleCallback(callback,err);handleCallback(callback,null,result.n);});};define.classMethod('count',{callback:true,promise:true});/**\n * The distinct command returns returns a list of distinct values for the given key across a collection.\n * @method\n * @param {string} key Field of the document to find distinct values for.\n * @param {object} query The query for filtering the set of documents to which we apply the distinct filter.\n * @param {object} [options=null] Optional settings.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {number} [options.maxTimeMS=null] Number of miliseconds to wait before aborting the query.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.distinct=function(key,query,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,1);callback=args.pop();if(typeof callback!='function')args.push(callback);var queryOption=args.length?args.shift()||{}:{};var optionsOption=args.length?args.shift()||{}:{};// Execute using callback\nif(typeof callback=='function')return distinct(self,key,queryOption,optionsOption,callback);// Ensure the query and options are set\nquery=query||{};options=options||{};// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){distinct(self,key,query,options,function(err,r){if(err)return reject(err);resolve(r);});});};var distinct=function(self,key,query,options,callback){// maxTimeMS option\nvar maxTimeMS=options.maxTimeMS;// Distinct command\nvar cmd={'distinct':self.s.name,'key':key,'query':query};options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(self,options,self.s.db,self);// Add maxTimeMS if defined\nif(typeof maxTimeMS=='number')cmd.maxTimeMS=maxTimeMS;// Do we have a readConcern specified\nif(self.s.readConcern){cmd.readConcern=self.s.readConcern;}// Have we specified collation\ndecorateWithCollation(cmd,self,options);// Execute the command\nself.s.db.command(cmd,options,function(err,result){if(err)return handleCallback(callback,err);handleCallback(callback,null,result.values);});};define.classMethod('distinct',{callback:true,promise:true});/**\n * Retrieve all the indexes on the collection.\n * @method\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.indexes=function(callback){var self=this;// Execute using callback\nif(typeof callback=='function')return indexes(self,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){indexes(self,function(err,r){if(err)return reject(err);resolve(r);});});};var indexes=function(self,callback){self.s.db.indexInformation(self.s.name,{full:true},callback);};define.classMethod('indexes',{callback:true,promise:true});/**\n * Get all the collection statistics.\n *\n * @method\n * @param {object} [options=null] Optional settings.\n * @param {number} [options.scale=null] Divide the returned sizes by scale value.\n * @param {Collection~resultCallback} [callback] The collection result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.stats=function(options,callback){var self=this;var args=Array.prototype.slice.call(arguments,0);callback=args.pop();if(typeof callback!='function')args.push(callback);// Fetch all commands\noptions=args.length?args.shift()||{}:{};// Execute using callback\nif(typeof callback=='function')return stats(self,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){stats(self,options,function(err,r){if(err)return reject(err);resolve(r);});});};var stats=function(self,options,callback){// Build command object\nvar commandObject={collStats:self.s.name};// Check if we have the scale value\nif(options['scale']!=null)commandObject['scale']=options['scale'];options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(self,options,self.s.db,self);// Execute the command\nself.s.db.command(commandObject,options,callback);};define.classMethod('stats',{callback:true,promise:true});/**\n * @typedef {Object} Collection~findAndModifyWriteOpResult\n * @property {object} value Document returned from findAndModify command.\n * @property {object} lastErrorObject The raw lastErrorObject returned from the command.\n * @property {Number} ok Is 1 if the command executed correctly.\n *//**\n * The callback format for inserts\n * @callback Collection~findAndModifyCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Collection~findAndModifyWriteOpResult} result The result object if the command was executed successfully.\n *//**\n * Find a document and delete it in one atomic operation, requires a write lock for the duration of the operation.\n *\n * @method\n * @param {object} filter Document selection filter.\n * @param {object} [options=null] Optional settings.\n * @param {object} [options.projection=null] Limits the fields to return for all matching documents.\n * @param {object} [options.sort=null] Determines which document the operation modifies if the query selects multiple documents.\n * @param {number} [options.maxTimeMS=null] The maximum amount of time to allow the query to run.\n * @param {Collection~findAndModifyCallback} [callback] The collection result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.findOneAndDelete=function(filter,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};// Basic validation\nif(filter==null||typeof filter!='object')throw toError('filter parameter must be an object');// Execute using callback\nif(typeof callback=='function')return findOneAndDelete(self,filter,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){options=options||{};findOneAndDelete(self,filter,options,function(err,r){if(err)return reject(err);resolve(r);});});};var findOneAndDelete=function(self,filter,options,callback){// Final options\nvar finalOptions=shallowClone(options);finalOptions['fields']=options.projection;finalOptions['remove']=true;// Execute find and Modify\nself.findAndModify(filter,options.sort,null,finalOptions,callback);};define.classMethod('findOneAndDelete',{callback:true,promise:true});/**\n * Find a document and replace it in one atomic operation, requires a write lock for the duration of the operation.\n *\n * @method\n * @param {object} filter Document selection filter.\n * @param {object} replacement Document replacing the matching document.\n * @param {object} [options=null] Optional settings.\n * @param {object} [options.projection=null] Limits the fields to return for all matching documents.\n * @param {object} [options.sort=null] Determines which document the operation modifies if the query selects multiple documents.\n * @param {number} [options.maxTimeMS=null] The maximum amount of time to allow the query to run.\n * @param {boolean} [options.upsert=false] Upsert the document if it does not exist.\n * @param {boolean} [options.returnOriginal=true] When false, returns the updated document rather than the original. The default is true.\n * @param {Collection~findAndModifyCallback} [callback] The collection result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.findOneAndReplace=function(filter,replacement,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};// Basic validation\nif(filter==null||typeof filter!='object')throw toError('filter parameter must be an object');if(replacement==null||typeof replacement!='object')throw toError('replacement parameter must be an object');// Execute using callback\nif(typeof callback=='function')return findOneAndReplace(self,filter,replacement,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){options=options||{};findOneAndReplace(self,filter,replacement,options,function(err,r){if(err)return reject(err);resolve(r);});});};var findOneAndReplace=function(self,filter,replacement,options,callback){// Final options\nvar finalOptions=shallowClone(options);finalOptions['fields']=options.projection;finalOptions['update']=true;finalOptions['new']=typeof options.returnOriginal=='boolean'?!options.returnOriginal:false;finalOptions['upsert']=typeof options.upsert=='boolean'?options.upsert:false;// Execute findAndModify\nself.findAndModify(filter,options.sort,replacement,finalOptions,callback);};define.classMethod('findOneAndReplace',{callback:true,promise:true});/**\n * Find a document and update it in one atomic operation, requires a write lock for the duration of the operation.\n *\n * @method\n * @param {object} filter Document selection filter.\n * @param {object} update Update operations to be performed on the document\n * @param {object} [options=null] Optional settings.\n * @param {object} [options.projection=null] Limits the fields to return for all matching documents.\n * @param {object} [options.sort=null] Determines which document the operation modifies if the query selects multiple documents.\n * @param {number} [options.maxTimeMS=null] The maximum amount of time to allow the query to run.\n * @param {boolean} [options.upsert=false] Upsert the document if it does not exist.\n * @param {boolean} [options.returnOriginal=true] When false, returns the updated document rather than the original. The default is true.\n * @param {Collection~findAndModifyCallback} [callback] The collection result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.findOneAndUpdate=function(filter,update,options,callback){var self=this;if(typeof options=='function')callback=options,options={};options=options||{};// Basic validation\nif(filter==null||typeof filter!='object')throw toError('filter parameter must be an object');if(update==null||typeof update!='object')throw toError('update parameter must be an object');// Execute using callback\nif(typeof callback=='function')return findOneAndUpdate(self,filter,update,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){options=options||{};findOneAndUpdate(self,filter,update,options,function(err,r){if(err)return reject(err);resolve(r);});});};var findOneAndUpdate=function(self,filter,update,options,callback){// Final options\nvar finalOptions=shallowClone(options);finalOptions['fields']=options.projection;finalOptions['update']=true;finalOptions['new']=typeof options.returnOriginal=='boolean'?!options.returnOriginal:false;finalOptions['upsert']=typeof options.upsert=='boolean'?options.upsert:false;// Execute findAndModify\nself.findAndModify(filter,options.sort,update,finalOptions,callback);};define.classMethod('findOneAndUpdate',{callback:true,promise:true});/**\n * Find and update a document.\n * @method\n * @param {object} query Query object to locate the object to modify.\n * @param {array} sort If multiple docs match, choose the first one in the specified sort order as the object to manipulate.\n * @param {object} doc The fields/vals to be updated.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {boolean} [options.remove=false] Set to true to remove the object before returning.\n * @param {boolean} [options.upsert=false] Perform an upsert operation.\n * @param {boolean} [options.new=false] Set to true if you want to return the modified object rather than the original. Ignored for remove.\n * @param {object} [options.fields=null] Object containing the field projection for the result returned from the operation.\n * @param {Collection~findAndModifyCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n * @deprecated use findOneAndUpdate, findOneAndReplace or findOneAndDelete instead\n */Collection.prototype.findAndModify=function(query,sort,doc,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,1);callback=args.pop();if(typeof callback!='function')args.push(callback);sort=args.length?args.shift()||[]:[];doc=args.length?args.shift():null;options=args.length?args.shift()||{}:{};// Clone options\noptions=shallowClone(options);// Force read preference primary\noptions.readPreference=ReadPreference.PRIMARY;// Execute using callback\nif(typeof callback=='function')return findAndModify(self,query,sort,doc,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){options=options||{};findAndModify(self,query,sort,doc,options,function(err,r){if(err)return reject(err);resolve(r);});});};var findAndModify=function(self,query,sort,doc,options,callback){// Create findAndModify command object\nvar queryObject={'findandmodify':self.s.name,'query':query};sort=formattedOrderClause(sort);if(sort){queryObject.sort=sort;}queryObject.new=options.new?true:false;queryObject.remove=options.remove?true:false;queryObject.upsert=options.upsert?true:false;if(options.fields){queryObject.fields=options.fields;}if(doc&&!options.remove){queryObject.update=doc;}if(options.maxTimeMS)queryObject.maxTimeMS=options.maxTimeMS;// Either use override on the function, or go back to default on either the collection\n// level or db\nif(options['serializeFunctions']!=null){options['serializeFunctions']=options['serializeFunctions'];}else{options['serializeFunctions']=self.s.serializeFunctions;}// No check on the documents\noptions.checkKeys=false;// Get the write concern settings\nvar finalOptions=writeConcern(options,self.s.db,self,options);// Decorate the findAndModify command with the write Concern\nif(finalOptions.writeConcern){queryObject.writeConcern=finalOptions.writeConcern;}// Have we specified bypassDocumentValidation\nif(typeof finalOptions.bypassDocumentValidation=='boolean'){queryObject.bypassDocumentValidation=finalOptions.bypassDocumentValidation;}// Have we specified collation\ndecorateWithCollation(queryObject,self,options);// Execute the command\nself.s.db.command(queryObject,options,function(err,result){if(err)return handleCallback(callback,err,null);return handleCallback(callback,null,result);});};define.classMethod('findAndModify',{callback:true,promise:true});/**\n * Find and remove a document.\n * @method\n * @param {object} query Query object to locate the object to modify.\n * @param {array} sort If multiple docs match, choose the first one in the specified sort order as the object to manipulate.\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n * @deprecated use findOneAndDelete instead\n */Collection.prototype.findAndRemove=function(query,sort,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,1);callback=args.pop();if(typeof callback!='function')args.push(callback);sort=args.length?args.shift()||[]:[];options=args.length?args.shift()||{}:{};// Execute using callback\nif(typeof callback=='function')return findAndRemove(self,query,sort,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){findAndRemove(self,query,sort,options,function(err,r){if(err)return reject(err);resolve(r);});});};var findAndRemove=function(self,query,sort,options,callback){// Add the remove option\noptions['remove']=true;// Execute the callback\nself.findAndModify(query,sort,null,options,callback);};define.classMethod('findAndRemove',{callback:true,promise:true});function decorateWithWriteConcern(command,self,options){// Do we support collation 3.4 and higher\nvar capabilities=self.s.topology.capabilities();// Do we support write concerns 3.4 and higher\nif(capabilities&&capabilities.commandsTakeWriteConcern){// Get the write concern settings\nvar finalOptions=writeConcern(shallowClone(options),self.s.db,self,options);// Add the write concern to the command\nif(finalOptions.writeConcern){command.writeConcern=finalOptions.writeConcern;}}}function decorateWithCollation(command,self,options){// Do we support collation 3.4 and higher\nvar capabilities=self.s.topology.capabilities();// Do we support write concerns 3.4 and higher\nif(capabilities&&capabilities.commandsTakeCollation){if(options.collation&&typeof options.collation=='object'){command.collation=options.collation;}}}/**\n * Execute an aggregation framework pipeline against the collection, needs MongoDB >= 2.2\n * @method\n * @param {object} pipeline Array containing all the aggregation framework commands for the execution.\n * @param {object} [options=null] Optional settings.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {object} [options.cursor=null] Return the query as cursor, on 2.6 > it returns as a real cursor on pre 2.6 it returns as an emulated cursor.\n * @param {number} [options.cursor.batchSize=null] The batchSize for the cursor\n * @param {boolean} [options.explain=false] Explain returns the aggregation execution plan (requires mongodb 2.6 >).\n * @param {boolean} [options.allowDiskUse=false] allowDiskUse lets the server know if it can use disk to store temporary results for the aggregation (requires mongodb 2.6 >).\n * @param {number} [options.maxTimeMS=null] maxTimeMS specifies a cumulative time limit in milliseconds for processing operations on the cursor. MongoDB interrupts the operation at the earliest following interrupt point.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {boolean} [options.raw=false] Return document results as raw BSON buffers.\n * @param {boolean} [options.promoteLongs=true] Promotes Long values to number if they fit inside the 53 bits resolution.\n * @param {boolean} [options.promoteValues=true] Promotes BSON values to native types where possible, set to false to only receive wrapper types.\n * @param {boolean} [options.promoteBuffers=false] Promotes Binary BSON values to native Node Buffers.\n * @param {object} [options.collation=null] Specify collation (MongoDB 3.4 or higher) settings for update operation (see 3.4 documentation for available fields).\n * @param {Collection~resultCallback} callback The command result callback\n * @return {(null|AggregationCursor)}\n */Collection.prototype.aggregate=function(pipeline,options,callback){var self=this;if(Array.isArray(pipeline)){// Set up callback if one is provided\nif(typeof options=='function'){callback=options;options={};}// If we have no options or callback we are doing\n// a cursor based aggregation\nif(options==null&&callback==null){options={};}}else{// Aggregation pipeline passed as arguments on the method\nvar args=Array.prototype.slice.call(arguments,0);// Get the callback\ncallback=args.pop();// Get the possible options object\nvar opts=args[args.length-1];// If it contains any of the admissible options pop it of the args\noptions=opts&&(opts.readPreference||opts.explain||opts.cursor||opts.out||opts.maxTimeMS||opts.allowDiskUse)?args.pop():{};// Left over arguments is the pipeline\npipeline=args;}// Ignore readConcern option\nvar ignoreReadConcern=false;// Build the command\nvar command={aggregate:this.s.name,pipeline:pipeline};// If out was specified\nif(typeof options.out=='string'){pipeline.push({$out:options.out});// Ignore read concern\nignoreReadConcern=true;}else if(pipeline.length>0&&pipeline[pipeline.length-1]['$out']){ignoreReadConcern=true;}// Decorate command with writeConcern if out has been specified\nif(pipeline.length>0&&pipeline[pipeline.length-1]['$out']){decorateWithWriteConcern(command,self,options);}// Have we specified collation\ndecorateWithCollation(command,self,options);// If we have bypassDocumentValidation set\nif(typeof options.bypassDocumentValidation=='boolean'){command.bypassDocumentValidation=options.bypassDocumentValidation;}// Do we have a readConcern specified\nif(!ignoreReadConcern&&this.s.readConcern){command.readConcern=this.s.readConcern;}// If we have allowDiskUse defined\nif(options.allowDiskUse)command.allowDiskUse=options.allowDiskUse;if(typeof options.maxTimeMS=='number')command.maxTimeMS=options.maxTimeMS;options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(this,options,this.s.db,this);// If explain has been specified add it\nif(options.explain)command.explain=options.explain;// Validate that cursor options is valid\nif(options.cursor!=null&&typeof options.cursor!='object'){throw toError('cursor options must be an object');}// promiseLibrary\noptions.promiseLibrary=this.s.promiseLibrary;// Set the AggregationCursor constructor\noptions.cursorFactory=AggregationCursor;if(typeof callback!='function'){if(!this.s.topology.capabilities()){throw new MongoError('cannot connect to server');}if(this.s.topology.capabilities().hasAggregationCursor){options.cursor=options.cursor||{batchSize:1000};command.cursor=options.cursor;}// Allow disk usage command\nif(typeof options.allowDiskUse=='boolean')command.allowDiskUse=options.allowDiskUse;if(typeof options.maxTimeMS=='number')command.maxTimeMS=options.maxTimeMS;// Execute the cursor\nreturn this.s.topology.cursor(this.s.namespace,command,options);}// We do not allow cursor\nif(options.cursor){return this.s.topology.cursor(this.s.namespace,command,options);}// Execute the command\nthis.s.db.command(command,options,function(err,result){if(err){handleCallback(callback,err);}else if(result['err']||result['errmsg']){handleCallback(callback,toError(result));}else if(typeof result=='object'&&result['serverPipeline']){handleCallback(callback,null,result['serverPipeline']);}else if(typeof result=='object'&&result['stages']){handleCallback(callback,null,result['stages']);}else{handleCallback(callback,null,result.result);}});};define.classMethod('aggregate',{callback:true,promise:false});/**\n * The callback format for results\n * @callback Collection~parallelCollectionScanCallback\n * @param {MongoError} error An error instance representing the error during the execution.\n * @param {Cursor[]} cursors A list of cursors returned allowing for parallel reading of collection.\n *//**\n * Return N number of parallel cursors for a collection allowing parallel reading of entire collection. There are\n * no ordering guarantees for returned results.\n * @method\n * @param {object} [options=null] Optional settings.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {number} [options.batchSize=null] Set the batchSize for the getMoreCommand when iterating over the query results.\n * @param {number} [options.numCursors=1] The maximum number of parallel command cursors to return (the number of returned cursors will be in the range 1:numCursors)\n * @param {boolean} [options.raw=false] Return all BSON documents as Raw Buffer documents.\n * @param {Collection~parallelCollectionScanCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.parallelCollectionScan=function(options,callback){var self=this;if(typeof options=='function')callback=options,options={numCursors:1};// Set number of cursors to 1\noptions.numCursors=options.numCursors||1;options.batchSize=options.batchSize||1000;options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(this,options,this.s.db,this);// Add a promiseLibrary\noptions.promiseLibrary=this.s.promiseLibrary;// Execute using callback\nif(typeof callback=='function')return parallelCollectionScan(self,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){parallelCollectionScan(self,options,function(err,r){if(err)return reject(err);resolve(r);});});};var parallelCollectionScan=function(self,options,callback){// Create command object\nvar commandObject={parallelCollectionScan:self.s.name,numCursors:options.numCursors};// Do we have a readConcern specified\nif(self.s.readConcern){commandObject.readConcern=self.s.readConcern;}// Store the raw value\nvar raw=options.raw;delete options['raw'];// Execute the command\nself.s.db.command(commandObject,options,function(err,result){if(err)return handleCallback(callback,err,null);if(result==null)return handleCallback(callback,new Error(\"no result returned for parallelCollectionScan\"),null);var cursors=[];// Add the raw back to the option\nif(raw)options.raw=raw;// Create command cursors for each item\nfor(var i=0;i<result.cursors.length;i++){var rawId=result.cursors[i].cursor.id;// Convert cursorId to Long if needed\nvar cursorId=typeof rawId=='number'?Long.fromNumber(rawId):rawId;// Add a command cursor\ncursors.push(self.s.topology.cursor(self.s.namespace,cursorId,options));}handleCallback(callback,null,cursors);});};define.classMethod('parallelCollectionScan',{callback:true,promise:true});/**\n * Execute the geoNear command to search for items in the collection\n *\n * @method\n * @param {number} x Point to search on the x axis, ensure the indexes are ordered in the same order.\n * @param {number} y Point to search on the y axis, ensure the indexes are ordered in the same order.\n * @param {object} [options=null] Optional settings.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {number} [options.num=null] Max number of results to return.\n * @param {number} [options.minDistance=null] Include results starting at minDistance from a point (2.6 or higher)\n * @param {number} [options.maxDistance=null] Include results up to maxDistance from the point.\n * @param {number} [options.distanceMultiplier=null] Include a value to multiply the distances with allowing for range conversions.\n * @param {object} [options.query=null] Filter the results by a query.\n * @param {boolean} [options.spherical=false] Perform query using a spherical model.\n * @param {boolean} [options.uniqueDocs=false] The closest location in a document to the center of the search region will always be returned MongoDB > 2.X.\n * @param {boolean} [options.includeLocs=false] Include the location data fields in the top level of the results MongoDB > 2.X.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.geoNear=function(x,y,options,callback){var self=this;var point=typeof x=='object'&&x,args=Array.prototype.slice.call(arguments,point?1:2);callback=args.pop();if(typeof callback!='function')args.push(callback);// Fetch all commands\noptions=args.length?args.shift()||{}:{};// Execute using callback\nif(typeof callback=='function')return geoNear(self,x,y,point,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){geoNear(self,x,y,point,options,function(err,r){if(err)return reject(err);resolve(r);});});};var geoNear=function(self,x,y,point,options,callback){// Build command object\nvar commandObject={geoNear:self.s.name,near:point||[x,y]};options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(self,options,self.s.db,self);// Exclude readPreference and existing options to prevent user from\n// shooting themselves in the foot\nvar exclude={readPreference:true,geoNear:true,near:true};// Filter out any excluded objects\ncommandObject=decorateCommand(commandObject,options,exclude);// Do we have a readConcern specified\nif(self.s.readConcern){commandObject.readConcern=self.s.readConcern;}// Have we specified collation\ndecorateWithCollation(commandObject,self,options);// Execute the command\nself.s.db.command(commandObject,options,function(err,res){if(err)return handleCallback(callback,err);if(res.err||res.errmsg)return handleCallback(callback,toError(res));// should we only be returning res.results here? Not sure if the user\n// should see the other return information\nhandleCallback(callback,null,res);});};define.classMethod('geoNear',{callback:true,promise:true});/**\n * Execute a geo search using a geo haystack index on a collection.\n *\n * @method\n * @param {number} x Point to search on the x axis, ensure the indexes are ordered in the same order.\n * @param {number} y Point to search on the y axis, ensure the indexes are ordered in the same order.\n * @param {object} [options=null] Optional settings.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {number} [options.maxDistance=null] Include results up to maxDistance from the point.\n * @param {object} [options.search=null] Filter the results by a query.\n * @param {number} [options.limit=false] Max number of results to return.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.geoHaystackSearch=function(x,y,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,2);callback=args.pop();if(typeof callback!='function')args.push(callback);// Fetch all commands\noptions=args.length?args.shift()||{}:{};// Execute using callback\nif(typeof callback=='function')return geoHaystackSearch(self,x,y,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){geoHaystackSearch(self,x,y,options,function(err,r){if(err)return reject(err);resolve(r);});});};var geoHaystackSearch=function(self,x,y,options,callback){// Build command object\nvar commandObject={geoSearch:self.s.name,near:[x,y]};// Remove read preference from hash if it exists\ncommandObject=decorateCommand(commandObject,options,{readPreference:true});options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(self,options,self.s.db,self);// Do we have a readConcern specified\nif(self.s.readConcern){commandObject.readConcern=self.s.readConcern;}// Execute the command\nself.s.db.command(commandObject,options,function(err,res){if(err)return handleCallback(callback,err);if(res.err||res.errmsg)handleCallback(callback,toError(res));// should we only be returning res.results here? Not sure if the user\n// should see the other return information\nhandleCallback(callback,null,res);});};define.classMethod('geoHaystackSearch',{callback:true,promise:true});/**\n * Group function helper\n * @ignore\n */// var groupFunction = function () {\n//   var c = db[ns].find(condition);\n//   var map = new Map();\n//   var reduce_function = reduce;\n//\n//   while (c.hasNext()) {\n//     var obj = c.next();\n//     var key = {};\n//\n//     for (var i = 0, len = keys.length; i < len; ++i) {\n//       var k = keys[i];\n//       key[k] = obj[k];\n//     }\n//\n//     var aggObj = map.get(key);\n//\n//     if (aggObj == null) {\n//       var newObj = Object.extend({}, key);\n//       aggObj = Object.extend(newObj, initial);\n//       map.put(key, aggObj);\n//     }\n//\n//     reduce_function(obj, aggObj);\n//   }\n//\n//   return { \"result\": map.values() };\n// }.toString();\nvar groupFunction='function () {\\nvar c = db[ns].find(condition);\\nvar map = new Map();\\nvar reduce_function = reduce;\\n\\nwhile (c.hasNext()) {\\nvar obj = c.next();\\nvar key = {};\\n\\nfor (var i = 0, len = keys.length; i < len; ++i) {\\nvar k = keys[i];\\nkey[k] = obj[k];\\n}\\n\\nvar aggObj = map.get(key);\\n\\nif (aggObj == null) {\\nvar newObj = Object.extend({}, key);\\naggObj = Object.extend(newObj, initial);\\nmap.put(key, aggObj);\\n}\\n\\nreduce_function(obj, aggObj);\\n}\\n\\nreturn { \"result\": map.values() };\\n}';/**\n * Run a group command across a collection\n *\n * @method\n * @param {(object|array|function|code)} keys An object, array or function expressing the keys to group by.\n * @param {object} condition An optional condition that must be true for a row to be considered.\n * @param {object} initial Initial value of the aggregation counter object.\n * @param {(function|Code)} reduce The reduce function aggregates (reduces) the objects iterated\n * @param {(function|Code)} finalize An optional function to be run on each item in the result set just before the item is returned.\n * @param {boolean} command Specify if you wish to run using the internal group command or using eval, default is true.\n * @param {object} [options=null] Optional settings.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {Collection~resultCallback} [callback] The command result callback\n * @return {Promise} returns Promise if no callback passed\n * @deprecated MongoDB 3.6 or higher will no longer support the group command. We recommend rewriting using the aggregation framework.\n */Collection.prototype.group=function(keys,condition,initial,reduce,finalize,command,options,callback){var self=this;var args=Array.prototype.slice.call(arguments,3);callback=args.pop();if(typeof callback!='function')args.push(callback);// Fetch all commands\nreduce=args.length?args.shift():null;finalize=args.length?args.shift():null;command=args.length?args.shift():null;options=args.length?args.shift()||{}:{};// Make sure we are backward compatible\nif(!(typeof finalize=='function')){command=finalize;finalize=null;}if(!Array.isArray(keys)&&keys instanceof Object&&typeof keys!=='function'&&!(keys._bsontype=='Code')){keys=Object.keys(keys);}if(typeof reduce==='function'){reduce=reduce.toString();}if(typeof finalize==='function'){finalize=finalize.toString();}// Set up the command as default\ncommand=command==null?true:command;// Execute using callback\nif(typeof callback=='function')return group(self,keys,condition,initial,reduce,finalize,command,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){group(self,keys,condition,initial,reduce,finalize,command,options,function(err,r){if(err)return reject(err);resolve(r);});});};var group=function(self,keys,condition,initial,reduce,finalize,command,options,callback){// Execute using the command\nif(command){var reduceFunction=reduce&&reduce._bsontype=='Code'?reduce:new Code(reduce);var selector={group:{'ns':self.s.name,'$reduce':reduceFunction,'cond':condition,'initial':initial,'out':\"inline\"}};// if finalize is defined\nif(finalize!=null)selector.group['finalize']=finalize;// Set up group selector\nif('function'===typeof keys||keys&&keys._bsontype=='Code'){selector.group.$keyf=keys&&keys._bsontype=='Code'?keys:new Code(keys);}else{var hash={};keys.forEach(function(key){hash[key]=1;});selector.group.key=hash;}options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(self,options,self.s.db,self);// Do we have a readConcern specified\nif(self.s.readConcern){selector.readConcern=self.s.readConcern;}// Have we specified collation\ndecorateWithCollation(selector,self,options);// Execute command\nself.s.db.command(selector,options,function(err,result){if(err)return handleCallback(callback,err,null);handleCallback(callback,null,result.retval);});}else{// Create execution scope\nvar scope=reduce!=null&&reduce._bsontype=='Code'?reduce.scope:{};scope.ns=self.s.name;scope.keys=keys;scope.condition=condition;scope.initial=initial;// Pass in the function text to execute within mongodb.\nvar groupfn=groupFunction.replace(/ reduce;/,reduce.toString()+';');self.s.db.eval(new Code(groupfn,scope),function(err,results){if(err)return handleCallback(callback,err,null);handleCallback(callback,null,results.result||results);});}};define.classMethod('group',{callback:true,promise:true});/**\n * Functions that are passed as scope args must\n * be converted to Code instances.\n * @ignore\n */function processScope(scope){if(!isObject(scope)||scope._bsontype=='ObjectID'){return scope;}var keys=Object.keys(scope);var i=keys.length;var key;var new_scope={};while(i--){key=keys[i];if('function'==typeof scope[key]){new_scope[key]=new Code(String(scope[key]));}else{new_scope[key]=processScope(scope[key]);}}return new_scope;}/**\n * Run Map Reduce across a collection. Be aware that the inline option for out will return an array of results not a collection.\n *\n * @method\n * @param {(function|string)} map The mapping function.\n * @param {(function|string)} reduce The reduce function.\n * @param {object} [options=null] Optional settings.\n * @param {(ReadPreference|string)} [options.readPreference=null] The preferred read preference (ReadPreference.PRIMARY, ReadPreference.PRIMARY_PREFERRED, ReadPreference.SECONDARY, ReadPreference.SECONDARY_PREFERRED, ReadPreference.NEAREST).\n * @param {object} [options.out=null] Sets the output target for the map reduce job. *{inline:1} | {replace:'collectionName'} | {merge:'collectionName'} | {reduce:'collectionName'}*\n * @param {object} [options.query=null] Query filter object.\n * @param {object} [options.sort=null] Sorts the input objects using this key. Useful for optimization, like sorting by the emit key for fewer reduces.\n * @param {number} [options.limit=null] Number of objects to return from collection.\n * @param {boolean} [options.keeptemp=false] Keep temporary data.\n * @param {(function|string)} [options.finalize=null] Finalize function.\n * @param {object} [options.scope=null] Can pass in variables that can be access from map/reduce/finalize.\n * @param {boolean} [options.jsMode=false] It is possible to make the execution stay in JS. Provided in MongoDB > 2.0.X.\n * @param {boolean} [options.verbose=false] Provide statistics on job execution time.\n * @param {boolean} [options.bypassDocumentValidation=false] Allow driver to bypass schema validation in MongoDB 3.2 or higher.\n * @param {Collection~resultCallback} [callback] The command result callback\n * @throws {MongoError}\n * @return {Promise} returns Promise if no callback passed\n */Collection.prototype.mapReduce=function(map,reduce,options,callback){var self=this;if('function'===typeof options)callback=options,options={};// Out must allways be defined (make sure we don't break weirdly on pre 1.8+ servers)\nif(null==options.out){throw new Error(\"the out option parameter must be defined, see mongodb docs for possible values\");}if('function'===typeof map){map=map.toString();}if('function'===typeof reduce){reduce=reduce.toString();}if('function'===typeof options.finalize){options.finalize=options.finalize.toString();}// Execute using callback\nif(typeof callback=='function')return mapReduce(self,map,reduce,options,callback);// Return a Promise\nreturn new this.s.promiseLibrary(function(resolve,reject){mapReduce(self,map,reduce,options,function(err,r,r1){if(err)return reject(err);if(!r1)return resolve(r);resolve({results:r,stats:r1});});});};var mapReduce=function(self,map,reduce,options,callback){var mapCommandHash={mapreduce:self.s.name,map:map,reduce:reduce};// Exclusion list\nvar exclusionList=['readPreference'];// Add any other options passed in\nfor(var n in options){if('scope'==n){mapCommandHash[n]=processScope(options[n]);}else{// Only include if not in exclusion list\nif(exclusionList.indexOf(n)==-1){mapCommandHash[n]=options[n];}}}options=shallowClone(options);// Ensure we have the right read preference inheritance\noptions=getReadPreference(self,options,self.s.db,self);// If we have a read preference and inline is not set as output fail hard\nif(options.readPreference!=false&&options.readPreference!='primary'&&options['out']&&options['out'].inline!=1&&options['out']!='inline'){// Force readPreference to primary\noptions.readPreference='primary';// Decorate command with writeConcern if supported\ndecorateWithWriteConcern(mapCommandHash,self,options);}else if(self.s.readConcern){mapCommandHash.readConcern=self.s.readConcern;}// Is bypassDocumentValidation specified\nif(typeof options.bypassDocumentValidation=='boolean'){mapCommandHash.bypassDocumentValidation=options.bypassDocumentValidation;}// Have we specified collation\ndecorateWithCollation(mapCommandHash,self,options);// Execute command\nself.s.db.command(mapCommandHash,{readPreference:options.readPreference},function(err,result){if(err)return handleCallback(callback,err);// Check if we have an error\nif(1!=result.ok||result.err||result.errmsg){return handleCallback(callback,toError(result));}// Create statistics value\nvar stats={};if(result.timeMillis)stats['processtime']=result.timeMillis;if(result.counts)stats['counts']=result.counts;if(result.timing)stats['timing']=result.timing;// invoked with inline?\nif(result.results){// If we wish for no verbosity\nif(options['verbose']==null||!options['verbose']){return handleCallback(callback,null,result.results);}return handleCallback(callback,null,result.results,stats);}// The returned collection\nvar collection=null;// If we have an object it's a different db\nif(result.result!=null&&typeof result.result=='object'){var doc=result.result;collection=self.s.db.db(doc.db).collection(doc.collection);}else{// Create a collection object that wraps the result collection\ncollection=self.s.db.collection(result.result);}// If we wish for no verbosity\nif(options['verbose']==null||!options['verbose']){return handleCallback(callback,err,collection);}// Return stats as third set of values\nhandleCallback(callback,err,collection,stats);});};define.classMethod('mapReduce',{callback:true,promise:true});/**\n * Initiate a Out of order batch write operation. All operations will be buffered into insert/update/remove commands executed out of order.\n *\n * @method\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @return {UnorderedBulkOperation}\n */Collection.prototype.initializeUnorderedBulkOp=function(options){options=options||{};options.promiseLibrary=this.s.promiseLibrary;return unordered(this.s.topology,this,options);};define.classMethod('initializeUnorderedBulkOp',{callback:false,promise:false,returns:[ordered.UnorderedBulkOperation]});/**\n * Initiate an In order bulk write operation, operations will be serially executed in the order they are added, creating a new operation for each switch in types.\n *\n * @method\n * @param {object} [options=null] Optional settings.\n * @param {(number|string)} [options.w=null] The write concern.\n * @param {number} [options.wtimeout=null] The write concern timeout.\n * @param {boolean} [options.j=false] Specify a journal write concern.\n * @param {OrderedBulkOperation} callback The command result callback\n * @return {null}\n */Collection.prototype.initializeOrderedBulkOp=function(options){options=options||{};options.promiseLibrary=this.s.promiseLibrary;return ordered(this.s.topology,this,options);};define.classMethod('initializeOrderedBulkOp',{callback:false,promise:false,returns:[ordered.OrderedBulkOperation]});// Get write concern\nvar writeConcern=function(target,db,col,options){if(options.w!=null||options.j!=null||options.fsync!=null){var opts={};if(options.w!=null)opts.w=options.w;if(options.wtimeout!=null)opts.wtimeout=options.wtimeout;if(options.j!=null)opts.j=options.j;if(options.fsync!=null)opts.fsync=options.fsync;target.writeConcern=opts;}else if(col.writeConcern.w!=null||col.writeConcern.j!=null||col.writeConcern.fsync!=null){target.writeConcern=col.writeConcern;}else if(db.writeConcern.w!=null||db.writeConcern.j!=null||db.writeConcern.fsync!=null){target.writeConcern=db.writeConcern;}return target;};// Figure out the read preference\nvar getReadPreference=function(self,options,db){var r=null;if(options.readPreference){r=options.readPreference;}else if(self.s.readPreference){r=self.s.readPreference;}else if(db.s.readPreference){r=db.s.readPreference;}if(r instanceof ReadPreference){options.readPreference=new CoreReadPreference(r.mode,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds});}else if(typeof r=='string'){options.readPreference=new CoreReadPreference(r);}else if(r&&!(r instanceof ReadPreference)&&typeof r=='object'){var mode=r.mode||r.preference;if(mode&&typeof mode=='string'){options.readPreference=new CoreReadPreference(mode,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds});}}return options;};var testForFields={limit:1,sort:1,fields:1,skip:1,hint:1,explain:1,snapshot:1,timeout:1,tailable:1,tailableRetryInterval:1,numberOfRetries:1,awaitdata:1,awaitData:1,exhaust:1,batchSize:1,returnKey:1,maxScan:1,min:1,max:1,showDiskLoc:1,comment:1,raw:1,readPreference:1,partial:1,read:1,dbName:1,oplogReplay:1,connection:1,maxTimeMS:1,transforms:1,collation:1};module.exports=Collection;\n\n//# sourceMappingURL=collection-compiled.js.map"]}