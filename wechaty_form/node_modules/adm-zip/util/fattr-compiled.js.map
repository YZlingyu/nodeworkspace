{"version":3,"sources":["fattr.js"],"names":[],"mappings":"AAAA,IAAI,KAAK,QAAQ,IAAR,CAAT;AAAA,IACI,MAAM,QAAQ,MAAR,CADV;;AAGA,GAAG,UAAH,GAAgB,GAAG,UAAH,IAAiB,IAAI,UAArC;;AAEA,OAAO,OAAP,GAAiB,WAAS,UAAU,IAAnB,EAAyB;;AAEtC,QAAI,QAAQ,QAAQ,EAApB;AAAA,QACI,eAAe,CADnB;AAAA,QAEI,OAAO,SAFX;AAAA,QAGI,QAAQ,IAHZ;;AAKA,aAAS,OAAT,GAAmB;AACf,eAAO;AACH,uBAAY,KADT;AAEH,sBAAW,KAFR;AAGH,oBAAS,KAHN;AAIH,wBAAa,KAJV;AAKH,mBAAQ,CALL;AAMH,mBAAQ;AANL,SAAP;AAQH;;AAED,QAAI,SAAS,GAAG,UAAH,CAAc,KAAd,CAAb,EAAmC;AAC/B,gBAAQ,GAAG,QAAH,CAAY,KAAZ,CAAR;AACA,aAAK,SAAL,GAAiB,MAAM,WAAN,EAAjB;AACA,aAAK,KAAL,GAAa,MAAM,KAAnB;AACA,aAAK,KAAL,GAAa,MAAM,KAAnB;AACA,aAAK,UAAL,GAAkB,CAAC,EAAE,IAAI,SAAU,CAAC,MAAM,IAAN,GAAa,SAAU,KAAV,EAAiB,CAAjB,CAAd,EAAmC,QAAnC,CAA6C,CAA7C,EAAgD,CAAhD,CAAV,CAAN,CAAnB;AACA,aAAK,QAAL,GAAgB,CAAC,EAAE,IAAI,SAAU,CAAC,MAAM,IAAN,GAAa,SAAU,KAAV,EAAiB,CAAjB,CAAd,EAAmC,QAAnC,CAA6C,CAA7C,EAAgD,CAAhD,CAAV,CAAN,CAAjB;AACA,aAAK,MAAL,GAAc,IAAI,QAAJ,CAAa,KAAb,EAAoB,CAApB,MAA2B,GAAzC;AACH,KARD,MAQO;AACH,gBAAQ,IAAR,CAAa,mBAAmB,KAAhC;AACH;;AAED,WAAO;;AAEH,YAAI,SAAJ,GAAiB;AACb,mBAAO,KAAK,SAAZ;AACH,SAJE;;AAMH,YAAI,QAAJ,GAAgB;AACZ,mBAAO,KAAK,QAAZ;AACH,SARE;;AAUH,YAAI,MAAJ,GAAc;AACV,mBAAO,KAAK,MAAZ;AACH,SAZE;;AAcH,YAAI,KAAJ,GAAa;AACT,mBAAO,KAAK,KAAZ;AACH,SAhBE;;AAkBH,YAAI,KAAJ,GAAa;AACV,mBAAO,KAAK,KAAZ;AACF,SApBE;;AAuBH,YAAI,UAAJ,GAAkB;AACd,mBAAO,KAAK,UAAZ;AACH,SAzBE;;AA2BH,0BAAmB,UAAS,GAAT,EAAc,CAEhC,CA7BE;;AA+BH,0BAAmB,UAAU,GAAV,EAAe,CAEjC,CAjCE;;AAmCH,kBAAW,YAAW;AACnB,mBAAO,QACH,cADG,GACc,KADd,GACsB,KADtB,GAEH,oBAFG,GAEoB,KAAK,SAFzB,GAEqC,KAFrC,GAGH,mBAHG,GAGmB,KAAK,QAHxB,GAGmC,KAHnC,GAIH,iBAJG,GAIiB,KAAK,MAJtB,GAI+B,KAJ/B,GAKH,qBALG,GAKqB,KAAK,UAL1B,GAKuC,KALvC,GAMH,cANG,GAMc,KAAK,KANnB,GAM2B,IAN3B,GAOH,cAPG,GAOc,KAAK,KAPnB,GAO2B,IAP3B,GAQP,GARA;AASF;AA7CE,KAAP;AAgDH,CA9ED","file":"fattr-compiled.js","sourcesContent":["var fs = require(\"fs\"),\r\n    pth = require(\"path\");\r\n\t\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = function(/*String*/path) {\r\n\r\n    var _path = path || \"\",\r\n        _permissions = 0,\r\n        _obj = newAttr(),\r\n        _stat = null;\r\n\r\n    function newAttr() {\r\n        return {\r\n            directory : false,\r\n            readonly : false,\r\n            hidden : false,\r\n            executable : false,\r\n            mtime : 0,\r\n            atime : 0\r\n        }\r\n    }\r\n\r\n    if (_path && fs.existsSync(_path)) {\r\n        _stat = fs.statSync(_path);\r\n        _obj.directory = _stat.isDirectory();\r\n        _obj.mtime = _stat.mtime;\r\n        _obj.atime = _stat.atime;\r\n        _obj.executable = !!(1 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.readonly = !!(2 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.hidden = pth.basename(_path)[0] === \".\";\r\n    } else {\r\n        console.warn(\"Invalid path: \" + _path)\r\n    }\r\n\r\n    return {\r\n\r\n        get directory () {\r\n            return _obj.directory;\r\n        },\r\n\r\n        get readOnly () {\r\n            return _obj.readonly;\r\n        },\r\n\r\n        get hidden () {\r\n            return _obj.hidden;\r\n        },\r\n\r\n        get mtime () {\r\n            return _obj.mtime;\r\n        },\r\n\r\n        get atime () {\r\n           return _obj.atime;\r\n        },\r\n\r\n\r\n        get executable () {\r\n            return _obj.executable;\r\n        },\r\n\r\n        decodeAttributes : function(val) {\r\n\r\n        },\r\n\r\n        encodeAttributes : function (val) {\r\n\r\n        },\r\n\r\n        toString : function() {\r\n           return '{\\n' +\r\n               '\\t\"path\" : \"' + _path + \",\\n\" +\r\n               '\\t\"isDirectory\" : ' + _obj.directory + \",\\n\" +\r\n               '\\t\"isReadOnly\" : ' + _obj.readonly + \",\\n\" +\r\n               '\\t\"isHidden\" : ' + _obj.hidden + \",\\n\" +\r\n               '\\t\"isExecutable\" : ' + _obj.executable + \",\\n\" +\r\n               '\\t\"mTime\" : ' + _obj.mtime + \"\\n\" +\r\n               '\\t\"aTime\" : ' + _obj.atime + \"\\n\" +\r\n           '}';\r\n        }\r\n    }\r\n\r\n};\r\n"]}