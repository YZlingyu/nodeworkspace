{"version":3,"sources":["brolog.es6.umd.js"],"names":[],"mappings":"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","file":"brolog.es6.umd-compiled.js","sourcesContent":["/* Brolog version 1.1.18 */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.window = global.window || {})));\n}(this, (function (exports) { 'use strict';\n\n/*!\n * Brolog JavaScript Library v1.1.0\n * https://github.com/zixia/brolog\n *\n * Copyright Huan LI <zixia@zixia.net>\n * Released under the ISC license\n * https://github.com/zixia/brolog/blob/master/LICENSE\n *\n * Date: 2016-07\n */\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"silent\"] = 0] = \"silent\";\n    LogLevel[LogLevel[\"error\"] = 1] = \"error\";\n    LogLevel[LogLevel[\"warn\"] = 2] = \"warn\";\n    LogLevel[LogLevel[\"info\"] = 3] = \"info\";\n    LogLevel[LogLevel[\"verbose\"] = 4] = \"verbose\";\n    LogLevel[LogLevel[\"silly\"] = 5] = \"silly\";\n})(LogLevel || (LogLevel = {}));\nconst nullLogger = {\n    error() { },\n    warn() { },\n    info() { },\n    verbose() { },\n    silly() { },\n};\nclass Brolog {\n    constructor() {\n        this.logLevel = LogLevel.info;\n        this.prefixFilter = /.*/; // Match all by default\n        const instance = Brolog.instance();\n        if (instance) {\n            // set level/prefix of this instance\n            // default to the global instance\n            this.level(instance.level());\n            this.prefix(instance.prefix());\n        }\n    }\n    /**\n     * Create a global Brolog Instance for sharing between modules\n     */\n    static instance(levelName, prefix) {\n        if (levelName) {\n            Brolog.level(levelName);\n        }\n        if (prefix) {\n            Brolog.prefix(prefix);\n        }\n        return globalBrolog;\n    }\n    static enableLogging(log) {\n        Brolog.instance().verbose('Brolog', 'enableLogging(%s)', log);\n        if (log === false) {\n            Brolog.instance().silly('Brolog', 'enableLogging() disabled');\n            return nullLogger;\n        }\n        else if (log === true) {\n            Brolog.instance().silly('Brolog', 'enableLogging() enabled: using blobal Brolog instance');\n            return Brolog.instance();\n        }\n        else if (typeof log.verbose === 'function') {\n            Brolog.instance().silly('Brolog', 'enableLogging() enabled: using provided logger');\n            return log;\n        }\n        throw new Error('got invalid logger');\n    }\n    static prefix(filter) {\n        return Brolog.instance().prefix(filter);\n    }\n    prefix(filter) {\n        if (filter) {\n            if (typeof filter === 'string') {\n                this.prefixFilter = new RegExp(filter, 'i');\n            }\n            else if (filter instanceof RegExp) {\n                this.prefixFilter = filter;\n            }\n            else {\n                throw new Error('unsupported prefix filter');\n            }\n        }\n        return this.prefixFilter;\n    }\n    static level(levelName) {\n        return Brolog.instance().level(levelName);\n    }\n    level(levelName) {\n        if (levelName) {\n            // console.log('levelName: ' + levelName)\n            // http://stackoverflow.com/a/21294925/1123955\n            // XXX: fix the any here?\n            const logLevel = LogLevel[levelName.toLowerCase()];\n            if (logLevel === undefined) {\n                // console.log(logLevel)\n                // console.log(LogLevel)\n                throw new Error('level name error');\n            }\n            this.logLevel = logLevel;\n        }\n        return LogLevel[this.logLevel];\n    }\n    // private log(levelTitle: LevelTitle, prefix: string, message: string) { return Brolog.log(levelTitle, prefix, message) }\n    log(levelTitle, prefix, message) {\n        if (!this.prefixFilter.test(prefix)) {\n            return; // skip message not match prefix filter\n        }\n        const args = Array.prototype.slice.call(arguments, 3) || [];\n        args.unshift(Brolog.timestamp() + ' ' + levelTitle + ' ' + prefix + ' ' + (message || ''));\n        switch (levelTitle) {\n            case 'ERR':\n                console.error.apply(console, args);\n                break;\n            case 'WARN':\n                console.warn.apply(console, args);\n                break;\n            case 'INFO':\n                console.info.apply(console, args);\n                break;\n            default:\n            case 'VERB':\n            case 'SILL':\n                console.log.apply(console, args);\n        }\n    }\n    static error(prefix, ...args) {\n        const instance = Brolog.instance();\n        return instance.error.apply(instance, arguments);\n    }\n    error(prefix, ...args) {\n        if (this.logLevel < LogLevel.error) {\n            return;\n        }\n        const argList = Array.prototype.slice.call(arguments);\n        argList.unshift('ERR');\n        this.log.apply(this, argList);\n    }\n    static warn(prefix, ...args) {\n        const instance = Brolog.instance();\n        return instance.warn.apply(instance, arguments);\n    }\n    warn(prefix, ...args) {\n        if (this.logLevel < LogLevel.warn) {\n            return;\n        }\n        const argList = Array.prototype.slice.call(arguments);\n        argList.unshift('WARN');\n        this.log.apply(this, argList);\n    }\n    static info(prefix, ...args) {\n        const instance = Brolog.instance();\n        return instance.info.apply(instance, arguments);\n    }\n    info(prefix, ...args) {\n        if (this.logLevel < LogLevel.info) {\n            return;\n        }\n        const argList = Array.prototype.slice.call(arguments);\n        argList.unshift('INFO');\n        this.log.apply(this, argList);\n    }\n    static verbose(prefix, ...args) {\n        const instance = Brolog.instance();\n        return instance.verbose.apply(instance, arguments);\n    }\n    verbose(prefix, ...args) {\n        if (this.logLevel < LogLevel.verbose) {\n            return;\n        }\n        const argList = Array.prototype.slice.call(arguments);\n        argList.unshift('VERB');\n        this.log.apply(this, argList);\n    }\n    static silly(prefix, ...args) {\n        const instance = Brolog.instance();\n        return instance.silly.apply(instance, arguments);\n    }\n    silly(prefix, ...args) {\n        if (this.logLevel < LogLevel.silly) {\n            return;\n        }\n        const argList = Array.prototype.slice.call(arguments);\n        argList.unshift('SILL');\n        this.log.apply(this, argList);\n    }\n    static timestamp() {\n        const date = new Date();\n        const hour = date.getHours();\n        const min = date.getMinutes();\n        const sec = date.getSeconds();\n        let stampStr = '';\n        stampStr += (hour < 10) ? ('0' + hour) : hour;\n        stampStr += ':';\n        stampStr += (min < 10) ? ('0' + min) : min;\n        stampStr += ':';\n        stampStr += (sec < 10) ? ('0' + sec) : sec;\n        return stampStr;\n    }\n}\nconst globalBrolog = new Brolog();\n\nexports.nullLogger = nullLogger;\nexports.Brolog = Brolog;\nexports.globalBrolog = globalBrolog;\nexports.log = globalBrolog;\nexports['default'] = globalBrolog;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n/* https://git.io/zixia/ */\n//# sourceMappingURL=brolog.es6.umd.js.map\n"]}