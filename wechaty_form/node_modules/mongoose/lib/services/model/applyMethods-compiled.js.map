{"version":3,"sources":["applyMethods.js"],"names":[],"mappings":"AAAA;;AAEA;;;;;;;AAOA,OAAO,OAAP,GAAiB,SAAS,YAAT,CAAsB,KAAtB,EAA6B,MAA7B,EAAqC;AACpD,WAAS,KAAT,CAAe,MAAf,EAAuB,MAAvB,EAA+B;AAC7B,WAAO,cAAP,CAAsB,MAAM,SAA5B,EAAuC,MAAvC,EAA+C;AAC7C,WAAK,YAAW;AACd,YAAI,IAAI,EAAR;AACA,aAAK,IAAI,CAAT,IAAc,OAAO,OAAP,CAAe,MAAf,CAAd,EAAsC;AACpC,YAAE,CAAF,IAAO,OAAO,OAAP,CAAe,MAAf,EAAuB,CAAvB,EAA0B,IAA1B,CAA+B,IAA/B,CAAP;AACD;AACD,eAAO,CAAP;AACD,OAP4C;AAQ7C,oBAAc;AAR+B,KAA/C;AAUD;AACD,OAAK,IAAI,MAAT,IAAmB,OAAO,OAA1B,EAAmC;AACjC,QAAI,OAAO,IAAP,CAAY,cAAZ,CAA2B,MAA3B,CAAJ,EAAwC;AACtC,YAAM,IAAI,KAAJ,CAAU,0DACd,SADc,GACF,MADE,GACO,GADjB,CAAN;AAED;AACD,QAAI,OAAO,OAAO,OAAP,CAAe,MAAf,CAAP,KAAkC,UAAtC,EAAkD;AAChD,YAAM,SAAN,CAAgB,MAAhB,IAA0B,OAAO,OAAP,CAAe,MAAf,CAA1B;AACD,KAFD,MAEO;AACL,YAAM,MAAN,EAAc,MAAd;AACD;AACF;AACF,CAxBD","file":"applyMethods-compiled.js","sourcesContent":["'use strict';\n\n/*!\n * Register methods for this model\n *\n * @param {Model} model\n * @param {Schema} schema\n */\n\nmodule.exports = function applyMethods(model, schema) {\n  function apply(method, schema) {\n    Object.defineProperty(model.prototype, method, {\n      get: function() {\n        var h = {};\n        for (var k in schema.methods[method]) {\n          h[k] = schema.methods[method][k].bind(this);\n        }\n        return h;\n      },\n      configurable: true\n    });\n  }\n  for (var method in schema.methods) {\n    if (schema.tree.hasOwnProperty(method)) {\n      throw new Error('You have a method and a property in your schema both ' +\n        'named \"' + method + '\"');\n    }\n    if (typeof schema.methods[method] === 'function') {\n      model.prototype[method] = schema.methods[method];\n    } else {\n      apply(method, schema);\n    }\n  }\n};\n"]}