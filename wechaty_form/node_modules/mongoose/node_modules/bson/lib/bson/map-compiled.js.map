{"version":3,"sources":["map.js"],"names":[],"mappings":"AAAA;;AAEA;;AACA,IAAG,OAAO,OAAO,GAAd,KAAsB,WAAzB,EAAsC;AACpC,SAAO,OAAP,GAAiB,OAAO,GAAxB;AACA,SAAO,OAAP,CAAe,GAAf,GAAqB,OAAO,GAA5B;AACD,CAHD,MAGO;AACL;AACA,MAAI,MAAM,UAAS,KAAT,EAAgB;AACxB,SAAK,KAAL,GAAa,EAAb;AACA,SAAK,OAAL,GAAe,EAAf;;AAEA,SAAI,IAAI,IAAI,CAAZ,EAAe,IAAI,MAAM,MAAzB,EAAiC,GAAjC,EAAsC;AACpC,UAAG,MAAM,CAAN,KAAY,IAAf,EAAqB,SADe,CACJ;AAChC,UAAI,QAAQ,MAAM,CAAN,CAAZ;AACA,UAAI,MAAM,MAAM,CAAN,CAAV;AACA,UAAI,QAAQ,MAAM,CAAN,CAAZ;AACA;AACA,WAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB;AACA;AACA;AACA,WAAK,OAAL,CAAa,GAAb,IAAoB,EAAC,GAAG,KAAJ,EAAW,GAAG,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAlC,EAApB;AACD;AACF,GAfD;;AAiBA,MAAI,SAAJ,CAAc,KAAd,GAAsB,YAAW;AAC/B,SAAK,KAAL,GAAa,EAAb;AACA,SAAK,OAAL,GAAe,EAAf;AACD,GAHD;;AAKA,MAAI,SAAJ,CAAc,MAAd,GAAuB,UAAS,GAAT,EAAc;AACnC,QAAI,QAAQ,KAAK,OAAL,CAAa,GAAb,CAAZ;AACA,QAAG,SAAS,IAAZ,EAAkB,OAAO,KAAP;AAClB;AACA,WAAO,KAAK,OAAL,CAAa,GAAb,CAAP;AACA;AACA,SAAK,KAAL,CAAW,MAAX,CAAkB,MAAM,CAAxB,EAA2B,CAA3B;AACA,WAAO,IAAP;AACD,GARD;;AAUA,MAAI,SAAJ,CAAc,OAAd,GAAwB,YAAW;AACjC,QAAI,OAAO,IAAX;AACA,QAAI,QAAQ,CAAZ;;AAEA,WAAO;AACL,YAAM,YAAW;AACf,YAAI,MAAM,KAAK,KAAL,CAAW,OAAX,CAAV;AACA,eAAO;AACL,iBAAO,QAAQ,SAAR,GAAoB,CAAC,GAAD,EAAM,KAAK,OAAL,CAAa,GAAb,EAAkB,CAAxB,CAApB,GAAiD,SADnD;AAEL,gBAAM,QAAQ,SAAR,GAAoB,KAApB,GAA4B;AAF7B,SAAP;AAID;AAPI,KAAP;AASD,GAbD;;AAeA,MAAI,SAAJ,CAAc,OAAd,GAAwB,UAAS,QAAT,EAAmB,IAAnB,EAAyB;AAC/C,WAAO,QAAQ,IAAf;;AAEA,SAAI,IAAI,IAAI,CAAZ,EAAe,IAAI,KAAK,KAAL,CAAW,MAA9B,EAAsC,GAAtC,EAA2C;AACzC,UAAI,MAAM,KAAK,KAAL,CAAW,CAAX,CAAV;AACA;AACA,eAAS,IAAT,CAAc,IAAd,EAAoB,KAAK,OAAL,CAAa,GAAb,EAAkB,CAAtC,EAAyC,GAAzC,EAA8C,IAA9C;AACD;AACF,GARD;;AAUA,MAAI,SAAJ,CAAc,GAAd,GAAoB,UAAS,GAAT,EAAc;AAChC,WAAO,KAAK,OAAL,CAAa,GAAb,IAAoB,KAAK,OAAL,CAAa,GAAb,EAAkB,CAAtC,GAA0C,SAAjD;AACD,GAFD;;AAIA,MAAI,SAAJ,CAAc,GAAd,GAAoB,UAAS,GAAT,EAAc;AAChC,WAAO,KAAK,OAAL,CAAa,GAAb,KAAqB,IAA5B;AACD,GAFD;;AAIA,MAAI,SAAJ,CAAc,IAAd,GAAqB,UAAS,GAAT,EAAc;AACjC,QAAI,OAAO,IAAX;AACA,QAAI,QAAQ,CAAZ;;AAEA,WAAO;AACL,YAAM,YAAW;AACf,YAAI,MAAM,KAAK,KAAL,CAAW,OAAX,CAAV;AACA,eAAO;AACL,iBAAO,QAAQ,SAAR,GAAoB,GAApB,GAA0B,SAD5B;AAEL,gBAAM,QAAQ,SAAR,GAAoB,KAApB,GAA4B;AAF7B,SAAP;AAID;AAPI,KAAP;AASD,GAbD;;AAeA,MAAI,SAAJ,CAAc,GAAd,GAAoB,UAAS,GAAT,EAAc,KAAd,EAAqB;AACvC,QAAG,KAAK,OAAL,CAAa,GAAb,CAAH,EAAsB;AACpB,WAAK,OAAL,CAAa,GAAb,EAAkB,CAAlB,GAAsB,KAAtB;AACA,aAAO,IAAP;AACD;;AAED;AACA,SAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB;AACA;AACA;AACA,SAAK,OAAL,CAAa,GAAb,IAAoB,EAAC,GAAG,KAAJ,EAAW,GAAG,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAlC,EAApB;AACA,WAAO,IAAP;AACD,GAZD;;AAcA,MAAI,SAAJ,CAAc,MAAd,GAAuB,UAAS,GAAT,EAAc,KAAd,EAAqB;AAC1C,QAAI,OAAO,IAAX;AACA,QAAI,QAAQ,CAAZ;;AAEA,WAAO;AACL,YAAM,YAAW;AACf,YAAI,MAAM,KAAK,KAAL,CAAW,OAAX,CAAV;AACA,eAAO;AACL,iBAAO,QAAQ,SAAR,GAAoB,KAAK,OAAL,CAAa,GAAb,EAAkB,CAAtC,GAA0C,SAD5C;AAEL,gBAAM,QAAQ,SAAR,GAAoB,KAApB,GAA4B;AAF7B,SAAP;AAID;AAPI,KAAP;AASD,GAbD;;AAeA;AACA,SAAO,cAAP,CAAsB,IAAI,SAA1B,EAAqC,MAArC,EAA6C;AAC3C,gBAAW,IADgC;AAE3C,SAAK,YAAW;AAAE,aAAO,KAAK,KAAL,CAAW,MAAlB;AAA2B;AAFF,GAA7C;;AAKA,SAAO,OAAP,GAAiB,GAAjB;AACA,SAAO,OAAP,CAAe,GAAf,GAAqB,GAArB;AACD","file":"map-compiled.js","sourcesContent":["\"use strict\"\n\n// We have an ES6 Map available, return the native instance\nif(typeof global.Map !== 'undefined') {\n  module.exports = global.Map;\n  module.exports.Map = global.Map;\n} else {\n  // We will return a polyfill\n  var Map = function(array) {\n    this._keys = [];\n    this._values = {};\n\n    for(var i = 0; i < array.length; i++) {\n      if(array[i] == null) continue;  // skip null and undefined\n      var entry = array[i];\n      var key = entry[0];\n      var value = entry[1];\n      // Add the key to the list of keys in order\n      this._keys.push(key);\n      // Add the key and value to the values dictionary with a point\n      // to the location in the ordered keys list\n      this._values[key] = {v: value, i: this._keys.length - 1};\n    }\n  }\n\n  Map.prototype.clear = function() {\n    this._keys = [];\n    this._values = {};\n  }\n\n  Map.prototype.delete = function(key) {\n    var value = this._values[key];\n    if(value == null) return false;\n    // Delete entry\n    delete this._values[key];\n    // Remove the key from the ordered keys list\n    this._keys.splice(value.i, 1);\n    return true;\n  }\n\n  Map.prototype.entries = function() {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? [key, self._values[key].v] : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  Map.prototype.forEach = function(callback, self) {\n    self = self || this;\n\n    for(var i = 0; i < this._keys.length; i++) {\n      var key = this._keys[i];\n      // Call the forEach callback\n      callback.call(self, this._values[key].v, key, self);\n    }\n  }\n\n  Map.prototype.get = function(key) {\n    return this._values[key] ? this._values[key].v : undefined;\n  }\n\n  Map.prototype.has = function(key) {\n    return this._values[key] != null;\n  }\n\n  Map.prototype.keys = function(key) {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? key : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  Map.prototype.set = function(key, value) {\n    if(this._values[key]) {\n      this._values[key].v = value;\n      return this;\n    }\n\n    // Add the key to the list of keys in order\n    this._keys.push(key);\n    // Add the key and value to the values dictionary with a point\n    // to the location in the ordered keys list\n    this._values[key] = {v: value, i: this._keys.length - 1};\n    return this;\n  }\n\n  Map.prototype.values = function(key, value) {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? self._values[key].v : undefined,\n          done: key !== undefined ? false : true\n        }\n      }\n    };\n  }\n\n  // Last ismaster\n  Object.defineProperty(Map.prototype, 'size', {\n    enumerable:true,\n    get: function() { return this._keys.length; }\n  });\n\n  module.exports = Map;\n  module.exports.Map = Map;\n}"]}