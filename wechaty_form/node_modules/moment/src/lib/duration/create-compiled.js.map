{"version":3,"sources":["create.js"],"names":[],"mappings":"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","file":"create-compiled.js","sourcesContent":["import { Duration, isDuration } from './constructor';\nimport isNumber from '../utils/is-number';\nimport toInt from '../utils/to-int';\nimport absRound from '../utils/abs-round';\nimport hasOwnProp from '../utils/has-own-prop';\nimport { DATE, HOUR, MINUTE, SECOND, MILLISECOND } from '../units/constants';\nimport { cloneWithOffset } from '../units/offset';\nimport { createLocal } from '../create/local';\nimport { createInvalid as invalid } from './valid';\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;\n\nexport function createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = invalid;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n"]}