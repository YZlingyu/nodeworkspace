{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;;;AAIA,IAAI,iBAAiB,QAAQ,oBAAR,CAArB;AACA,IAAI,MAAM,QAAQ,eAAR,CAAV;AACA,IAAI,QAAQ,QAAQ,iBAAR,CAAZ;AACA,IAAI,YAAY,QAAQ,aAAR,CAAhB;;AAEA;;;;AAIA,QAAQ,OAAR,GAAkB,OAAlB;AACA,QAAQ,SAAR,GAAoB,SAApB;;AAEA;;;;;;;AAOA,SAAS,OAAT,CAAkB,IAAlB,EAAwB;AACtB,MAAI,GAAJ;AACA,MAAI,KAAK,KAAT;AACA,MAAI,KAAK,KAAT;AACA,MAAI,QAAQ,UAAU,KAAK,KAA3B;;AAEA,MAAI,OAAO,QAAX,EAAqB;AACnB,QAAI,QAAQ,aAAa,SAAS,QAAlC;AACA,QAAI,OAAO,SAAS,IAApB;;AAEA;AACA,QAAI,CAAC,IAAL,EAAW;AACT,aAAO,QAAQ,GAAR,GAAc,EAArB;AACD;;AAED,SAAK,KAAK,QAAL,KAAkB,SAAS,QAA3B,IAAuC,SAAS,KAAK,IAA1D;AACA,SAAK,KAAK,MAAL,KAAgB,KAArB;AACD;;AAED,OAAK,OAAL,GAAe,EAAf;AACA,OAAK,OAAL,GAAe,EAAf;AACA,QAAM,IAAI,cAAJ,CAAmB,IAAnB,CAAN;;AAEA,MAAI,UAAU,GAAV,IAAiB,CAAC,KAAK,UAA3B,EAAuC;AACrC,WAAO,IAAI,GAAJ,CAAQ,IAAR,CAAP;AACD,GAFD,MAEO;AACL,QAAI,CAAC,KAAL,EAAY,MAAM,IAAI,KAAJ,CAAU,gBAAV,CAAN;AACZ,WAAO,IAAI,KAAJ,CAAU,IAAV,CAAP;AACD;AACF","file":"index-compiled.js","sourcesContent":["/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n"]}