{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n"]}