{"version":3,"sources":["wtf-8.js"],"names":[],"mappings":"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","file":"wtf-8-compiled.js","sourcesContent":["/*! https://mths.be/wtf8 v1.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction wtf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, itâ€™s not a continuation byte.\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read the first byte.\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid WTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction wtf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar wtf8 = {\n\t\t'version': '1.0.0',\n\t\t'encode': wtf8encode,\n\t\t'decode': wtf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn wtf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = wtf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in wtf8) {\n\t\t\t\thasOwnProperty.call(wtf8, key) && (freeExports[key] = wtf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.wtf8 = wtf8;\n\t}\n\n}(this));\n"]}