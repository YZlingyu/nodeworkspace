{"version":3,"sources":["test.js"],"names":[],"mappings":"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","file":"test-compiled.js","sourcesContent":["/* istanbul ignore next */\ndescribe('Ultron', function () {\n  'use strict';\n\n  var EventEmitter = require('eventemitter3')\n    , EE = require('events').EventEmitter\n    , assume = require('assume')\n    , Ultron = require('./')\n    , ultron\n    , ee;\n\n  beforeEach(function () {\n    ee = new EventEmitter();\n    ultron = new Ultron(ee);\n  });\n\n  afterEach(function () {\n    ultron.destroy();\n    ee.removeAllListeners();\n  });\n\n  it('is exposed as a function', function () {\n    assume(Ultron).is.a('function');\n  });\n\n  it('can be initialized without the new keyword', function () {\n    assume(Ultron(ee)).is.instanceOf(Ultron);\n  });\n\n  it('assigns a unique id to every instance', function () {\n    for (var i = 0; i < 100; i++) {\n      assume(ultron.id).does.not.equal((new Ultron()).id);\n    }\n  });\n\n  it('allows removal through the event emitter', function () {\n    function foo() {}\n    function bar() {}\n\n    ultron.on('foo', foo);\n    ultron.once('foo', bar);\n\n    assume(foo.__ultron).equals(ultron.id);\n    assume(bar.__ultron).equals(ultron.id);\n    assume(ee.listeners('foo').length).equals(2);\n\n    ee.removeListener('foo', foo);\n    assume(ee.listeners('foo').length).equals(1);\n\n    ee.removeListener('foo', bar);\n    assume(ee.listeners('foo').length).equals(0);\n  });\n\n  describe('#on', function () {\n    it('assigns a listener', function () {\n      assume(ee.listeners('foo').length).equals(0);\n\n      function foo() {}\n\n      ultron.on('foo', foo);\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('foo')[0]).equals(foo);\n    });\n\n    it('tags the assigned function', function () {\n      assume(ee.listeners('foo').length).equals(0);\n\n      ultron.on('foo', function () {});\n      assume(ee.listeners('foo')[0].__ultron).equals(ultron.id);\n    });\n\n    it('also passes in the context', function (next) {\n      var context = 1313;\n\n      ultron.on('foo', function (a, b, c) {\n        assume(a).equals('a');\n        assume(b).equals('b');\n        assume(c).equals('c');\n\n        assume(this).equals(context);\n\n        next();\n      }, context);\n\n      ee.emit('foo', 'a', 'b', 'c');\n    });\n\n    it('works with regular eventemitters as well', function (next) {\n      var ee = new EE()\n        , ultron = new Ultron(ee);\n\n      ultron.on('foo', function (a, b, c) {\n        assume(a).equals('a');\n        assume(b).equals('b');\n        assume(c).equals('c');\n\n        next();\n      });\n\n      ee.emit('foo', 'a', 'b', 'c');\n    });\n  });\n\n  describe('#once', function () {\n    it('assigns a listener', function () {\n      assume(ee.listeners('foo').length).equals(0);\n\n      function foo() {}\n      ultron.once('foo', foo);\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('foo')[0]).equals(foo);\n    });\n\n    it('tags the assigned function', function () {\n      assume(ee.listeners('foo').length).equals(0);\n\n      ultron.once('foo', function () {});\n      assume(ee.listeners('foo')[0].__ultron).equals(ultron.id);\n    });\n\n    it('also passes in the context', function (next) {\n      var context = 1313;\n\n      ultron.once('foo', function (a, b, c) {\n        assume(a).equals('a');\n        assume(b).equals('b');\n        assume(c).equals('c');\n\n        assume(this).equals(context);\n\n        next();\n      }, context);\n\n      ee.emit('foo', 'a', 'b', 'c');\n      ee.emit('foo', 'a', 'b', 'c'); // Ensure that we don't double execute\n    });\n\n    it('works with regular eventemitters as well', function (next) {\n      var ee = new EE()\n        , ultron = new Ultron(ee);\n\n      ultron.once('foo', function (a, b, c) {\n        assume(a).equals('a');\n        assume(b).equals('b');\n        assume(c).equals('c');\n\n        next();\n      });\n\n      ee.emit('foo', 'a', 'b', 'c');\n      ee.emit('foo', 'a', 'b', 'c'); // Ensure that we don't double execute\n    });\n  });\n\n  describe('#remove', function () {\n    it('removes only our assigned `on` listeners', function () {\n      function foo() {}\n      function bar() {}\n\n      ee.on('foo', foo);\n      ultron.on('foo', bar);\n      assume(ee.listeners('foo').length).equals(2);\n\n      ultron.remove('foo');\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('foo')[0]).equals(foo);\n    });\n\n    it('removes our private __ultron references', function () {\n      function once() {}\n      function on() {}\n\n      assume('__ultron' in once).is.false();\n      assume('__ultron' in on).is.false();\n\n      ultron.on('foo', on);\n      ultron.once('bar', once);\n\n      assume('__ultron' in once).is.true();\n      assume('__ultron' in on).is.true();\n\n      ultron.remove('foo, bar');\n\n      assume('__ultron' in once).is.false();\n      assume('__ultron' in on).is.false();\n\n      ultron.destroy();\n\n      ee = new EE();\n      ultron = new Ultron(ee);\n\n      assume('__ultron' in once).is.false();\n      assume('__ultron' in on).is.false();\n\n      ultron.on('foo', on);\n      ultron.once('bar', once);\n\n      assume('__ultron' in once).is.true();\n      assume('__ultron' in on).is.true();\n\n      ultron.remove('foo, bar');\n\n      assume('__ultron' in once).is.false();\n      assume('__ultron' in on).is.false();\n    });\n\n    it('removes only our assigned `once` listeners', function () {\n      function foo() {}\n      function bar() {}\n\n      ee.once('foo', foo);\n      ultron.once('foo', bar);\n      assume(ee.listeners('foo').length).equals(2);\n\n      ultron.remove('foo');\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('foo')[0]).equals(foo);\n    });\n\n    it('removes only our assigned `once` listeners from regular EE', function () {\n      var ee = new EE()\n        , ultron = new Ultron(ee);\n\n      function foo() {}\n      function bar() {}\n\n      ee.once('foo', foo);\n      ultron.once('foo', bar);\n      assume(ee.listeners('foo').length).equals(2);\n\n      ultron.remove('foo');\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('foo')[0].listener).equals(foo);\n    });\n\n    it('removes all assigned events if called without args', function () {\n      function foo() {}\n      function bar() {}\n\n      ultron.on('foo', foo);\n      ultron.on('bar', bar);\n\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('bar').length).equals(1);\n\n      ultron.remove();\n\n      assume(ee.listeners('foo').length).equals(0);\n      assume(ee.listeners('bar').length).equals(0);\n    });\n\n    it('removes multiple listeners based on args', function () {\n      function foo() {}\n      function bar() {}\n      function baz() {}\n\n      ultron.on('foo', foo);\n      ultron.on('bar', bar);\n      ultron.on('baz', baz);\n\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('bar').length).equals(1);\n      assume(ee.listeners('baz').length).equals(1);\n\n      ultron.remove('foo', 'bar');\n\n      assume(ee.listeners('foo').length).equals(0);\n      assume(ee.listeners('bar').length).equals(0);\n      assume(ee.listeners('baz').length).equals(1);\n    });\n\n    it('removes multiple listeners if first arg is seperated string', function () {\n      function foo() {}\n      function bar() {}\n      function baz() {}\n\n      ultron.on('foo', foo);\n      ultron.on('bar', bar);\n      ultron.on('baz', baz);\n\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('bar').length).equals(1);\n      assume(ee.listeners('baz').length).equals(1);\n\n      ultron.remove('foo, bar');\n\n      assume(ee.listeners('foo').length).equals(0);\n      assume(ee.listeners('bar').length).equals(0);\n      assume(ee.listeners('baz').length).equals(1);\n    });\n  });\n\n  describe('#destroy', function () {\n    it('removes all listeners', function () {\n      function foo() {}\n      function bar() {}\n      function baz() {}\n\n      ultron.on('foo', foo);\n      ultron.on('bar', bar);\n      ultron.on('baz', baz);\n\n      assume(ee.listeners('foo').length).equals(1);\n      assume(ee.listeners('bar').length).equals(1);\n      assume(ee.listeners('baz').length).equals(1);\n\n      ultron.destroy();\n\n      assume(ee.listeners('foo').length).equals(0);\n      assume(ee.listeners('bar').length).equals(0);\n      assume(ee.listeners('baz').length).equals(0);\n    });\n\n    it('removes the .ee reference', function () {\n      assume(ultron.ee).equals(ee);\n      ultron.destroy();\n      assume(ultron.ee).equals(null);\n    });\n\n    it('returns booleans for state indication', function () {\n      assume(ultron.destroy()).is.true();\n      assume(ultron.destroy()).is.false();\n      assume(ultron.destroy()).is.false();\n      assume(ultron.destroy()).is.false();\n    });\n  });\n});\n"]}