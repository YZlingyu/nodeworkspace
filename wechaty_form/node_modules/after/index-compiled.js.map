{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,KAAjB;;AAEA,SAAS,KAAT,CAAe,KAAf,EAAsB,QAAtB,EAAgC,MAAhC,EAAwC;AACpC,QAAI,OAAO,KAAX;AACA,aAAS,UAAU,IAAnB;AACA,UAAM,KAAN,GAAc,KAAd;;AAEA,WAAQ,UAAU,CAAX,GAAgB,UAAhB,GAA6B,KAApC;;AAEA,aAAS,KAAT,CAAe,GAAf,EAAoB,MAApB,EAA4B;AACxB,YAAI,MAAM,KAAN,IAAe,CAAnB,EAAsB;AAClB,kBAAM,IAAI,KAAJ,CAAU,6BAAV,CAAN;AACH;AACD,UAAE,MAAM,KAAR;;AAEA;AACA,YAAI,GAAJ,EAAS;AACL,mBAAO,IAAP;AACA,qBAAS,GAAT;AACA;AACA,uBAAW,MAAX;AACH,SALD,MAKO,IAAI,MAAM,KAAN,KAAgB,CAAhB,IAAqB,CAAC,IAA1B,EAAgC;AACnC,qBAAS,IAAT,EAAe,MAAf;AACH;AACJ;AACJ;;AAED,SAAS,IAAT,GAAgB,CAAE","file":"index-compiled.js","sourcesContent":["module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n"]}