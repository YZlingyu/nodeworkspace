{"version":3,"sources":["method.js"],"names":[],"mappings":"AAAA;;AACA,OAAO,OAAP,GACA,UAAS,OAAT,EAAkB,QAAlB,EAA4B,mBAA5B,EAAiD,YAAjD,EAA+D;AAC/D,QAAI,OAAO,QAAQ,WAAR,CAAX;AACA,QAAI,WAAW,KAAK,QAApB;;AAEA,YAAQ,MAAR,GAAiB,UAAU,EAAV,EAAc;AAC3B,YAAI,OAAO,EAAP,KAAc,UAAlB,EAA8B;AAC1B,kBAAM,IAAI,QAAQ,SAAZ,CAAsB,qEAAtB,CAAN;AACH;AACD,eAAO,YAAY;AACf,gBAAI,MAAM,IAAI,OAAJ,CAAY,QAAZ,CAAV;AACA,gBAAI,kBAAJ;AACA,gBAAI,YAAJ;AACA,gBAAI,QAAQ,SAAS,EAAT,EAAa,KAAb,CAAmB,IAAnB,EAAyB,SAAzB,CAAZ;AACA,gBAAI,WAAJ;AACA,gBAAI,qBAAJ,CAA0B,KAA1B;AACA,mBAAO,GAAP;AACH,SARD;AASH,KAbD;;AAeA,YAAQ,OAAR,GAAkB,QAAQ,KAAR,IAAiB,UAAU,EAAV,EAAc,IAAd,EAAoB,GAApB,EAAyB;AACxD,YAAI,OAAO,EAAP,KAAc,UAAlB,EAA8B;AAC1B,mBAAO,aAAa,qEAAb,CAAP;AACH;AACD,YAAI,MAAM,IAAI,OAAJ,CAAY,QAAZ,CAAV;AACA,YAAI,kBAAJ;AACA,YAAI,YAAJ;AACA,YAAI,QAAQ,KAAK,OAAL,CAAa,IAAb,IACN,SAAS,EAAT,EAAa,KAAb,CAAmB,GAAnB,EAAwB,IAAxB,CADM,GAEN,SAAS,EAAT,EAAa,IAAb,CAAkB,GAAlB,EAAuB,IAAvB,CAFN;AAGA,YAAI,WAAJ;AACA,YAAI,qBAAJ,CAA0B,KAA1B;AACA,eAAO,GAAP;AACH,KAbD;;AAeA,YAAQ,SAAR,CAAkB,qBAAlB,GAA0C,UAAU,KAAV,EAAiB;AACvD,YAAI,UAAU,KAAK,QAAnB,EAA6B;AACzB,iBAAK,eAAL,CAAqB,MAAM,CAA3B,EAA8B,KAA9B,EAAqC,IAArC;AACH,SAFD,MAEO;AACH,iBAAK,gBAAL,CAAsB,KAAtB,EAA6B,IAA7B;AACH;AACJ,KAND;AAOC,CA1CD","file":"method-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        ret._popContext();\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn, args, ctx) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value = util.isArray(args)\n        ? tryCatch(fn).apply(ctx, args)\n        : tryCatch(fn).call(ctx, args);\n    ret._popContext();\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false, true);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n"]}