{"version":3,"sources":["props.js"],"names":[],"mappings":"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","file":"props-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5.js\");\n\nfunction PropertiesPromiseArray(obj) {\n    var keys = es5.keys(obj);\n    var len = keys.length;\n    var values = new Array(len * 2);\n    for (var i = 0; i < len; ++i) {\n        var key = keys[i];\n        values[i] = obj[key];\n        values[i + len] = key;\n    }\n    this.constructor$(values);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {\n    this._init$(undefined, -3) ;\n};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val = {};\n        var keyOffset = this.length();\n        for (var i = 0, len = this.length(); i < len; ++i) {\n            val[this._values[i + keyOffset]] = this._values[i];\n        }\n        this._resolve(val);\n    }\n};\n\nPropertiesPromiseArray.prototype._promiseProgressed = function (value, index) {\n    this._promise._progress({\n        key: this._values[index + this.length()],\n        value: value\n    });\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/OsFKC8\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 4);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n"]}